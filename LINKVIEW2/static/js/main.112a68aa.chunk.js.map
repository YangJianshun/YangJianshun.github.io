{"version":3,"sources":["../../linkview-align-parser/lib/utils/eachLine.js","../../linkview-core/lib/plugins/paramsCreater/utils.js","../../linkview-core/lib/plugins/index.js","../../linkview-align-parser/lib/main/index.js","../../linkview-align-parser/lib/checkType/checkTypeByHeadLines.js","../../linkview-align-parser/lib/checkType/characteristics.js","../../linkview-align-parser/lib/utils/number.js","../../linkview-align-parser/lib/utils/array.js","../../linkview-align-parser/lib/parser/index.js","../../linkview-align-parser/lib/parser/constants.js","../../linkview-align-parser/lib/utils/interval.js","../../linkview-core/lib/plugins/paramsCreater/index.js","../../linkview-core/lib/index.js","../../linkview-core/lib/plugins/layoutCreater/index.js","../../linkview-core/lib/plugins/svgCreater/index.js","../../linkview-core/lib/plugins/svgCreater/layoutSvg.js","../../linkview-core/lib/plugins/svgCreater/styleSvg.js","../../linkview-core/lib/plugins/svgCreater/labelSvg.js","../../linkview-core/lib/plugins/svgCreater/alignmentSvg.js","../../linkview-align-parser/lib/checkType/index.js","../../linkview-align-parser/lib/checkType/constants.js","../../linkview-align-parser/lib/checkType/getParserOpt.js","../../linkview-align-parser/lib/filterAlign/index.js","../../linkview-align-parser/lib/@types/index.js","../../linkview-align-parser/lib/@types/alignment.js","../../linkview-align-parser/lib/@types/filterAlign.js","../../linkview-align-parser/lib/@types/parser.js","../../linkview-align-parser/lib/calculateSubAlign/index.js","../../linkview-align-parser/lib/utils/index.js","../../linkview-core/lib/plugins/svgCreater/axisSvg.js","../../linkview-core/lib/plugins/svgCreater/highlightSvg.js","../../linkview-core/lib/plugins/svgCreater/scaleSvg.js","../../linkview-core/lib/plugins/svgCreater/geneSvg.js","../../linkview-core/lib/plugins/alignCreater/index.js","../../linkview-core/lib/plugins/autoLayoutCreater/index.js","../../linkview-core/lib/@types/options.js","../../linkview-core/lib/main/index.js","initOptions.ts","components/ParamsInput.tsx","App.tsx","index.tsx","../../linkview-core/lib/plugins/svgCreater/svgTemplates.js","../../linkview-core/lib/plugins/svgCreater/render.js","../../linkview-core/lib/utils/error.js","../../linkview-align-parser/lib/@types/characteristics.js","../../linkview-align-parser/lib/index.js","../../linkview-align-parser/lib/utils/error.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","line_reader_1","require","default","fileName","eachLineCallBack","filter","lineIndex","Promise","resolve","reject","eachLine","line","err","parseParamAxisPos","parseParamStyle","parseParamAlign","parseParamLabelPos","parseParamAxisUnit","parseBases","parseParamWithLimit","parseParamInput","parseParamMultipleFile","parseParamSingleFile","parseParamFiles","parseParamFloat","parseParamInt","toArray","fs_1","val","Array","length","from","fileNames","allowMultiple","errInfo","index","len","splitInputs","split","splice","existsSync","Error","limits","param","toLowerCase","includes","join","suffixMap","trim","result","Number","suffix","endsWith","replace","parseInt","String","isNaN","toString","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","autoLayoutCreater","alignCreater","paramsCreater","svgCreater","layoutCreater","layoutCreater_1","svgCreater_1","paramsCreater_1","alignCreater_1","autoLayoutCreater_1","__setModuleDefault","v","__importStar","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","done","then","apply","alignParserFromContent","checkType_1","parser_1","filterAlign_1","error_1","content","filterAlignOpt","checkTypeFromContent","alignType","parserOpt","parser","parserCreater","filterCreater","filters","filterAlign","parseAlignFromContent","alignments","alignmentsByCtgs","lenInfo","withErrorConsole","checkLine","characteristics_1","constants_1","number_1","array_1","characteristics_2","lineCharacteristic","columns","columnCount","startsWith","exclude","lineMatchConditions","items","push","item","column","strandFlags","numberColumnsSet","has","isNumber","forEach","contentString","indexOf","lineCharacteristicExclude","allTrue","headLines","AlignType","UNKNOWN","characteristic","matchConditions","all","include","matchCondition","findIndex","characteristics","STANDARD","BLAST","MINIMAP","NUCMER","NUCMER_T","NUCMER_B","str","average","arr","i","Boolean","nums","reduce","total","num","NaN","eachLine_1","checkTypeByHeadLines_1","alignment","ctg1","start1","end1","ctg2","start2","end2","alignLen","color","DEFAULT_COLOR_FLAG","opacity","DEFAULT_OPACITY_FLAG","alignLens","shouldReverse","colum","errorInfo","errorPos","Math","abs","parserOptFilters","filterCondition","lines","len1","len2","complement","intersection","interval1","interval2","sort","a","b","slice","wide","intervals","wideStart","wideEnd","front","back","map","interval","start","end","utils_1","typoOfDrawOptions","chro_thickness","no_label","label_font_size","label_angle","label_pos","label_x_offset","label_y_offset","chro_axis","chro_axis_unit","chro_axis_pos","gap_length","align","options","drawOptions","parameter","parameterContent","defualtDrawOptionsItem","getDrawOptionsItem","readFileSync","parameterFile","lineCount","drawOptionsItem","assign","drawOption","convertValue","typeOfDrawOption","error","errPosInfo","message","info","warn","main","main_1","layout","karyotype","karyotypeContent","karyotypeFile","leftDash","rightDash","ctg","startStr","endStr","noIntervalInfo","errStr","errorPosInfo","layoutSvg_1","svgTemplates_1","render_1","styleSvg_1","labelSvg_1","alignmentSvg_1","axisSvg_1","highlightSvg_1","scaleSvg_1","geneSvg_1","_a","_b","svg_template","use","unshift","SVG_START","SVG_END","svg","calculateLineLen","layoutLine","drowOptionsItem","cur","gapCount","gapLen","totalGapLen","totalLen","spaceVerticalTotal","svg_height","layoutItem","svgHeight","levelCount","spaceVertical","scale","maxLen","lineLen","svg_content_width","calculateScale","topCur","svgContents","svgClipPathContents","SVG_CLIPPATH_START","max","leftCur","svg_width","svg_space","min","svgProps","y","height","x","width","renderItem","SVG_CTG_DASH","x1","x2","svgContent","SVG_CTG","getSvgPos","xPos","yPos","isLargerPos","xDeltaPos","getSvgPosCreater","SVG_CLIPPATH_END","style","styles","labelProps","SVG_LABEL","linkview_align_parser_1","layoutLineCur","layoutLineNext","layoutItemCur","layoutItemNext","displayStart1","displayEnd1","displayStart2","displayEnd2","calculatedAlignment","calculateSubAlign","y1","y2","x3","y3","x4","y4","selfFill","selfOpacity","alignProps","selfStyle","bezier","multipliers","bezierX1","bezierY1","bezierX2","bezierY2","bezierX3","bezierY3","bezierX4","bezierY4","svgTemplate","SVG_ALIGN_BEZIER","SVG_ALIGN","getParserOpt_1","numberColumns","minimapStrand","nucmerStrand","Set","splitT","parseOpt","columnsMap","tagArr","match","tagsIndex","tag","calcNucmerParseOpt","identity","evalue","bitScore","minAlignmentLength","minIdentity","maxEvalue","minBitScore","filterCtgPairs","ctgPairs","filterCtg1","filterCtg2","ctgsInCtgPairs","interval_1","calculatePosition","point","position2Site","position","distance","toFixed","noIntervalInfo1","noIntervalInfo2","displayStart1Position","displayEnd1Position","displayStart2Position","displayEnd2Position","displayPosions","displayStartPosition","displayEndPosition","MB","formatSite","site","unitAuto","unit","inferUnit","chroAxis","chroAxisPos","console","log","pos","getSinglePointAxis","unitSize","textX","textY","textAngle","text","SVG_AXIS_POINT","SVG_AXIS_TEXT","getSingleAxis","assignHighlightsMap","target","source","parseHighligtContent","fineName","highlightsMap","count","highlight","highlightContent","highlightFiles","highlightFile","parseHighlightFile","highlights","hlStart","hlEnd","xStart","ystart","xEnd","hl_min1px","highlightProps","SVG_HIGHLIGHT","show_scale","scaleBases","suffixs","keys","scaleX","scaleY","SVG_SCALE_LINE","textWidth","SVG_SCALE_TEXT","fontSize","mRnaType","exonType","utr3Type","utr5Type","parseAttributes","attr","res","contentFlag","lastPos","char","key","parseGff","gffFile","ctgs","mRNAInfoMap","ctg2MRNAInfos","initMRNAInfoMap","mRNAId","exons","UTR3s","UTR5s","parent","strand","annoType","attrStr","annoId","ID","Parent","parseGffContent","gffContent","assignCtg2MRNAInfosSingle","mRNAInfosDeOverlap","mRNAInfos","lastStart","lastEnd","mRNAInfo","renderExons","direction","className","intervalStart","intervalEnd","yStart","xMin","xMax","xMinMiddle","xMaxMiddle","yTop","yMiddle","yBottom","svgGeneExonPropsForward","x5","y5","svgGeneExonPropsReverse","SVG_GENE_EXON","gffs","gff","add","mRNAInfoMapSingle","ctg2MRNAInfosSingle","f","mRNAStart","mRNAEnd","introns","intronStart","intronEnd","SVG_GENE_INTRON","assignAlignmentsByCtgs","inputs","inputContent","min_alignment_length","min_identity","min_bit_score","max_evalue","lenInfoAll","alignmentsAll","alignmentsByCtgsAll","input","layoutLineBefore","ctgsWithNoInfo","layoutItemsWithNoInfo","intervalInfoByAlignments","setIntervalInfo","layoutItemBefore","startCur","endCur","ctgAnother","lenA","ctg2LayoutItem","plugins_1","initOptions","plugin","Option","TextArea","Panel","ParamsInput","onSubmit","urlOptions","queryString","parse","window","location","href","parseBooleans","parseNumbers","useForm","form","useState","showKaryotype","setShowKaryotype","showHighlight","setShowHighlight","showParameter","setShowParameter","showGff","setShowGff","addKaryotypeRef","useRef","addHighlightRef","addParameterRef","addGffRef","useEffect","current","click","submit","name","onFinish","values","autoComplete","size","Item","label","initialValue","rows","wrap","allowClear","onBlur","ghost","marginBottom","header","valuePropName","labelCol","span","wrapperCol","offset","defaultChecked","onChange","controls","addonAfter","ele","List","fields","remove","field","CloseCircleOutlined","onClick","marginLeft","ref","type","block","icon","PlusOutlined","htmlType","App","setSvg","errMsg","setErrMsg","userOptions","JSON","stringify","title","subTitle","extra","GithubOutlined","description","whiteSpace","closable","replaceAll","download","DownloadOutlined","dangerouslySetInnerHTML","__html","ReactDOM","render","StrictMode","document","getElementById","classic","simple","svgTemplateItem","dataSource","tempArr","endIndex","chalk_1","fn","args","errorStr","subStr","baseIndex","searchStr","errorStrLen","mark","bgYellow","red","repeat","yellow","main_2","process","exit"],"mappings":"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","file":"static/js/main.112a68aa.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst line_reader_1 = __importDefault(require(\"line-reader\"));\nconst eachLine = (fileName, eachLineCallBack, filter) => {\n    let lineIndex = 0;\n    return new Promise((resolve, reject) => {\n        line_reader_1.default.eachLine(fileName, function (line) {\n            if (filter && filter(line))\n                return true;\n            lineIndex += 1;\n            return eachLineCallBack(line, lineIndex);\n        }, function (err) {\n            if (err)\n                reject(err);\n            resolve(fileName);\n        });\n    });\n};\nexports.default = eachLine;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseParamAxisPos = exports.parseParamStyle = exports.parseParamAlign = exports.parseParamLabelPos = exports.parseParamAxisUnit = exports.parseBases = exports.parseParamWithLimit = exports.parseParamInput = exports.parseParamMultipleFile = exports.parseParamSingleFile = exports.parseParamFiles = exports.parseParamFloat = exports.parseParamInt = exports.toArray = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nfunction toArray(val) {\n    if (val instanceof Array) {\n        return val;\n    }\n    else if (val.length && !(typeof val === 'string')) {\n        return Array.from(val);\n    }\n    else {\n        return [val];\n    }\n}\nexports.toArray = toArray;\nfunction parseParamInt(val, param) {\n    const result = parseInt(String(Number(val)));\n    if (isNaN(result))\n        throw new Error(`Illegal argument of option '${param}', ${val} is not an integer`);\n    return result;\n}\nexports.parseParamInt = parseParamInt;\nfunction parseParamFloat(val, param) {\n    const result = Number(val);\n    if (isNaN(result))\n        throw new Error(`Illegal argument of option '${param}', ${val} is not a number`);\n    return result;\n}\nexports.parseParamFloat = parseParamFloat;\nfunction parseParamFiles(fileNames, allowMultiple = true, errInfo) {\n    fileNames = toArray(fileNames);\n    if (allowMultiple) {\n        for (let index = 0, len = fileNames.length; index < len; index++) {\n            const fileName = fileNames[index];\n            const splitInputs = fileName.split(',');\n            fileNames.splice(index, 1, ...splitInputs);\n            index += splitInputs.length - 1;\n        }\n    }\n    for (let fileName of fileNames) {\n        if (!fs_1.default.existsSync(fileName)) {\n            throw new Error(`${errInfo}, ${fileName} not exist!`);\n        }\n    }\n    return fileNames;\n}\nexports.parseParamFiles = parseParamFiles;\nfunction parseParamSingleFile(fileName, param) {\n    return parseParamFiles(fileName, false, `Illegal argument of option '${param}'`)[0];\n}\nexports.parseParamSingleFile = parseParamSingleFile;\nfunction parseParamMultipleFile(fileNames, param) {\n    return parseParamFiles(fileNames, true, `Illegal argument of option '${param}'`);\n}\nexports.parseParamMultipleFile = parseParamMultipleFile;\nfunction parseParamInput(fileNames) {\n    return parseParamFiles(fileNames, true, `Illegal argument`);\n}\nexports.parseParamInput = parseParamInput;\nfunction parseParamWithLimit(limits) {\n    return function (val, param) {\n        val = val.toLowerCase();\n        if (!limits.includes(val)) {\n            throw new Error(`Illegal argument of option '${param}', Expected ${limits.join(' | ')}, but received '${val}'`);\n        }\n        return val;\n    };\n}\nexports.parseParamWithLimit = parseParamWithLimit;\nfunction parseBases(val) {\n    const suffixMap = {\n        'm': 1000000,\n        'mb': 1000000,\n        'mbp': 1000000,\n        'k': 1000,\n        'kb': 1000,\n        'kbp': 1000,\n        'bp': 1,\n    };\n    val = val.trim().toLowerCase();\n    let result = Number(val);\n    for (let suffix in suffixMap) {\n        if (val.endsWith(suffix)) {\n            val = val.replace(suffix, '');\n            result = Number(val) * suffixMap[suffix];\n            break;\n        }\n    }\n    return result;\n}\nexports.parseBases = parseBases;\nfunction parseParamAxisUnit(val, param) {\n    val = val.toString();\n    val = val.trim().toLowerCase();\n    const result = val === 'auto' ? val : parseBases(val);\n    if (result !== 'auto' && isNaN(result))\n        throw new Error(`Illegal argument of option '${param}', '${val}' cannot be resolved to number of bases!`);\n    return result;\n}\nexports.parseParamAxisUnit = parseParamAxisUnit;\nexports.parseParamLabelPos = parseParamWithLimit(['left', 'center', 'right']);\nexports.parseParamAlign = parseParamWithLimit(['left', 'center', 'right']);\nexports.parseParamStyle = parseParamWithLimit(['classic', 'simple']);\nexports.parseParamAxisPos = parseParamWithLimit(['top', 'bottom']);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.autoLayoutCreater = exports.alignCreater = exports.paramsCreater = exports.svgCreater = exports.layoutCreater = void 0;\nvar layoutCreater_1 = require(\"./layoutCreater\");\nObject.defineProperty(exports, \"layoutCreater\", { enumerable: true, get: function () { return __importDefault(layoutCreater_1).default; } });\nvar svgCreater_1 = require(\"./svgCreater\");\nObject.defineProperty(exports, \"svgCreater\", { enumerable: true, get: function () { return __importDefault(svgCreater_1).default; } });\nvar paramsCreater_1 = require(\"./paramsCreater\");\nObject.defineProperty(exports, \"paramsCreater\", { enumerable: true, get: function () { return __importDefault(paramsCreater_1).default; } });\n__exportStar(require(\"./paramsCreater\"), exports);\nvar alignCreater_1 = require(\"./alignCreater\");\nObject.defineProperty(exports, \"alignCreater\", { enumerable: true, get: function () { return __importDefault(alignCreater_1).default; } });\nvar autoLayoutCreater_1 = require(\"./autoLayoutCreater\");\nObject.defineProperty(exports, \"autoLayoutCreater\", { enumerable: true, get: function () { return __importDefault(autoLayoutCreater_1).default; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.alignParserFromContent = void 0;\nconst checkType_1 = __importStar(require(\"../checkType\"));\nconst parser_1 = __importStar(require(\"../parser\"));\nconst filterAlign_1 = __importDefault(require(\"../filterAlign\"));\nconst error_1 = require(\"../utils/error\");\nconst alignParser = (fileName, filterAlignOpt) => __awaiter(void 0, void 0, void 0, function* () {\n    const { alignType, parserOpt } = yield (0, checkType_1.default)(fileName);\n    const parser = (0, error_1.withErrorConsole)((0, parser_1.parserCreater)(parserOpt, fileName));\n    const filter = (0, parser_1.filterCreater)(parserOpt ? parserOpt.filters : null);\n    const filterAlign = filterAlignOpt\n        ? (0, filterAlign_1.default)(filterAlignOpt)\n        : null;\n    const { alignments, alignmentsByCtgs, lenInfo } = yield (0, parser_1.default)(fileName, parser, filter, filterAlign);\n    return { alignType, alignments, alignmentsByCtgs, lenInfo };\n});\nconst alignParserFromContent = (content, filterAlignOpt) => {\n    const { alignType, parserOpt } = (0, checkType_1.checkTypeFromContent)(content);\n    const parser = (0, parser_1.parserCreater)(parserOpt, 'input alignments');\n    const filter = (0, parser_1.filterCreater)(parserOpt ? parserOpt.filters : null);\n    const filterAlign = filterAlignOpt\n        ? (0, filterAlign_1.default)(filterAlignOpt)\n        : null;\n    const { alignments, alignmentsByCtgs, lenInfo } = (0, parser_1.parseAlignFromContent)(content, parser, filter, filterAlign);\n    return { alignType, alignments, alignmentsByCtgs, lenInfo };\n};\nexports.alignParserFromContent = alignParserFromContent;\nexports.default = alignParser;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkLine = void 0;\nconst characteristics_1 = __importDefault(require(\"./characteristics\"));\nconst constants_1 = require(\"./constants\");\nconst number_1 = require(\"../utils/number\");\nconst array_1 = require(\"../utils/array\");\nconst characteristics_2 = require(\"../@types/characteristics\");\nfunction checkLine(line, lineCharacteristic) {\n    const { split, columns, columnCount, startsWith, endsWith, content, exclude } = lineCharacteristic;\n    const lineMatchConditions = [];\n    if (split) {\n        line = line.trim();\n        const items = line.split(split);\n        columnCount &&\n            (columnCount instanceof Array\n                ? lineMatchConditions.push(columnCount.includes(items.length))\n                : lineMatchConditions.push(items.length === columnCount));\n        if (columns) {\n            for (let index in columns) {\n                const item = items[index];\n                const column = columns[index];\n                constants_1.strandFlags[column] &&\n                    lineMatchConditions.push(constants_1.strandFlags[column].includes(item));\n                if (!constants_1.numberColumnsSet.has(column))\n                    continue;\n                lineMatchConditions.push((0, number_1.isNumber)(item));\n            }\n        }\n    }\n    if (startsWith) {\n        lineMatchConditions.push(line.startsWith(startsWith));\n    }\n    if (endsWith) {\n        lineMatchConditions.push(line.endsWith(endsWith));\n    }\n    if (content) {\n        Array.from(content).forEach(contentString => {\n            lineMatchConditions.push(line.indexOf(contentString) >= 0);\n        });\n    }\n    if (exclude) {\n        const lineCharacteristicExclude = exclude;\n        lineMatchConditions.push(!checkLine(line, lineCharacteristicExclude));\n    }\n    return (0, array_1.allTrue)(lineMatchConditions);\n}\nexports.checkLine = checkLine;\nfunction checkTypeByHeadLines(headLines) {\n    for (const alignType in characteristics_1.default) {\n        if (alignType === characteristics_2.AlignType.UNKNOWN)\n            continue;\n        const characteristic = characteristics_1.default[alignType];\n        const matchConditions = [];\n        if (characteristic.all) {\n            headLines.forEach((line) => {\n                matchConditions.push(checkLine(line, characteristic.all));\n            });\n        }\n        if (characteristic.include) {\n            characteristic.include.forEach(lineCharacteristic => {\n                const matchCondition = headLines.findIndex(line => checkLine(line, lineCharacteristic)) > 0;\n                matchConditions.push(matchCondition);\n            });\n        }\n        if ((0, array_1.allTrue)(matchConditions)) {\n            return alignType;\n        }\n    }\n    return characteristics_2.AlignType.UNKNOWN;\n}\nexports.default = checkTypeByHeadLines;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst characteristics_1 = require(\"../@types/characteristics\");\nconst characteristics = {\n    [characteristics_1.AlignType.STANDARD]: {\n        all: {\n            split: /\\s+/,\n            columnCount: [6, 7],\n            columns: [\n                'ctg1',\n                'start1',\n                'end1',\n                'ctg2',\n                'start2',\n                'end2',\n                'color:opacity',\n            ],\n        },\n    },\n    [characteristics_1.AlignType.BLAST]: {\n        all: {\n            split: '\\t',\n            columnCount: 12,\n            columns: [\n                'ctg1',\n                'ctg2',\n                'identity',\n                'alignLen',\n                'otherNumber',\n                'otherNumber',\n                'start1',\n                'end1',\n                'start2',\n                'end2',\n                'evalue',\n                'bitScore',\n            ],\n        },\n    },\n    [characteristics_1.AlignType.MINIMAP]: {\n        all: {\n            split: '\\t',\n            columns: [\n                'ctg1',\n                'len1',\n                'start1',\n                'end1',\n                'minimapStrand',\n                'ctg2',\n                'len2',\n                'start2',\n                'end2',\n                'alignLen',\n            ],\n        },\n    },\n    [characteristics_1.AlignType.NUCMER]: {\n        include: [\n            {\n                startsWith: 'NUCMER',\n            },\n            {\n                content: ['[S1]', '[TAGS]', '|'],\n            },\n        ],\n    },\n    [characteristics_1.AlignType.NUCMER_T]: {\n        include: [\n            {\n                startsWith: 'NUCMER',\n            },\n            {\n                content: ['[S1]', '[TAGS]'],\n                exclude: {\n                    content: '|',\n                },\n            },\n        ],\n    },\n    [characteristics_1.AlignType.NUCMER_B]: {\n        all: {\n            split: '\\t',\n            columnCount: 21,\n            columns: {\n                [0]: 'ctg2',\n                [2]: 'len2',\n                [3]: 'NUCMER',\n                [5]: 'ctg1',\n                [6]: 'start2',\n                [7]: 'end2',\n                [8]: 'start1',\n                [9]: 'end1',\n                [10]: 'identity',\n                [11]: 'identity',\n                [12]: 'alignLen',\n                [17]: 'nucmerStrand',\n                [18]: 'len1',\n            },\n        },\n    },\n    [characteristics_1.AlignType.UNKNOWN]: {}\n};\nexports.default = characteristics;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isNumber = void 0;\nconst isNumber = (str) => !isNaN(Number(str));\nexports.isNumber = isNumber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.average = exports.allTrue = void 0;\nconst allTrue = (arr) => arr.findIndex((i) => !Boolean(i)) === -1;\nexports.allTrue = allTrue;\nconst average = (nums) => nums.length > 0\n    ? nums.reduce((total, num) => total + num) / nums.length\n    : NaN;\nexports.average = average;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseAlignFromContent = exports.filterCreater = exports.parserCreater = void 0;\nconst eachLine_1 = __importDefault(require(\"../utils/eachLine\"));\nconst constants_1 = require(\"./constants\");\nconst number_1 = require(\"../utils/number\");\nconst array_1 = require(\"../utils/array\");\nconst checkTypeByHeadLines_1 = require(\"../checkType/checkTypeByHeadLines\");\nconst error_1 = require(\"../utils/error\");\nconst parserCreater = (parserOpt, fileName) => (line) => {\n    line = line.trim();\n    if (!parserOpt)\n        return null;\n    const { split, columns } = parserOpt;\n    const items = line.split(split);\n    const alignment = {\n        ctg1: '',\n        start1: 0,\n        end1: 0,\n        ctg2: '',\n        start2: 0,\n        end2: 0,\n        alignLen: 0,\n        color: constants_1.DEFAULT_COLOR_FLAG,\n        opacity: constants_1.DEFAULT_OPACITY_FLAG,\n    };\n    const alignLens = [];\n    let shouldReverse = false;\n    for (const index in parserOpt.columns) {\n        const colum = columns[index];\n        const value = items[index];\n        if (['ctg1', 'ctg2'].includes(colum)) {\n            alignment[colum] = value;\n        }\n        else if ([\n            'start1',\n            'end1',\n            'start2',\n            'end2',\n            'identity',\n            'evalue',\n            'bitScore',\n            'len1',\n            'len2',\n        ].includes(colum)) {\n            if (!(0, number_1.isNumber)(value)) {\n                const errorInfo = (0, error_1.errorPos)(line, items, index);\n                throw new Error(`${colum} should be a number, but get '${value}' in '${fileName}': \\n${errorInfo} \\n`);\n            }\n            alignment[colum] = Number(value);\n        }\n        else if (colum === 'alignLen') {\n            (0, number_1.isNumber)(value) && alignLens.push(Number(value));\n        }\n        else if (colum === 'color:opacity' && value) {\n            const [color, opacity] = value.split(':');\n            alignment.color = color;\n            alignment.opacity = (0, number_1.isNumber)(opacity) ? Number(opacity) : 1;\n        }\n        else if (colum === 'minimapStrand' && value === '-') {\n            shouldReverse = true;\n        }\n    }\n    if (shouldReverse) {\n        const { start1, end1 } = alignment;\n        [alignment.start1, alignment.end1] = [end1, start1];\n    }\n    if (alignLens.length > 0)\n        alignment.alignLen = (0, array_1.average)(alignLens);\n    if (alignment.alignLen === 0) {\n        const { start1, end1, start2, end2 } = alignment;\n        alignment.alignLen =\n            (Math.abs(start1 - end1) + 1 + Math.abs(start2 - end2) + 1) / 2;\n    }\n    return alignment;\n};\nexports.parserCreater = parserCreater;\nconst filterCreater = (parserOptFilters) => (line) => {\n    line = line.trim();\n    let filterCondition = line === '' || line.startsWith('#');\n    if (parserOptFilters)\n        filterCondition =\n            filterCondition ||\n                parserOptFilters.findIndex((lineCharacteristic) => (0, checkTypeByHeadLines_1.checkLine)(line, lineCharacteristic)) >= 0;\n    return filterCondition;\n};\nexports.filterCreater = filterCreater;\nconst parseAlignFile = (fileName, parser, filter, filterAlign = null) => {\n    const alignments = [];\n    const alignmentsByCtgs = {};\n    const lenInfo = {};\n    return (0, eachLine_1.default)(fileName, (line) => {\n        const alignment = parser(line);\n        if (alignment) {\n            const { len1, len2, ctg1, ctg2 } = alignment;\n            if (len1)\n                lenInfo[ctg1] = len1;\n            if (len2)\n                lenInfo[ctg2] = len2;\n            delete alignment.len1;\n            delete alignment.len2;\n            if (!(ctg1 in alignmentsByCtgs))\n                alignmentsByCtgs[ctg1] = {};\n            if (!(ctg2 in alignmentsByCtgs[ctg1]))\n                alignmentsByCtgs[ctg1][ctg2] = [];\n            if (!(ctg2 in alignmentsByCtgs))\n                alignmentsByCtgs[ctg2] = {};\n            if (!(ctg1 in alignmentsByCtgs[ctg2]))\n                alignmentsByCtgs[ctg2][ctg1] = [];\n            alignment &&\n                (filterAlign ? !filterAlign(alignment) : true) &&\n                alignments.push(alignment) &&\n                alignmentsByCtgs[ctg1][ctg2].push(alignment) &&\n                alignmentsByCtgs[ctg2][ctg1].push(alignment);\n        }\n        return true;\n    }, filter).then(() => {\n        return { alignments, alignmentsByCtgs, lenInfo };\n    });\n};\nconst parseAlignFromContent = (content, parser, filter, filterAlign = null) => {\n    const alignments = [];\n    const alignmentsByCtgs = {};\n    const lenInfo = {};\n    const lines = content.trim().split('\\n');\n    lines.forEach((line) => {\n        if (filter(line))\n            return;\n        const alignment = parser(line);\n        if (alignment) {\n            const { len1, len2, ctg1, ctg2 } = alignment;\n            if (len1)\n                lenInfo[ctg1] = len1;\n            if (len2)\n                lenInfo[ctg2] = len2;\n            delete alignment.len1;\n            delete alignment.len2;\n            if (!(ctg1 in alignmentsByCtgs))\n                alignmentsByCtgs[ctg1] = {};\n            if (!(ctg2 in alignmentsByCtgs[ctg1]))\n                alignmentsByCtgs[ctg1][ctg2] = [];\n            if (!(ctg2 in alignmentsByCtgs))\n                alignmentsByCtgs[ctg2] = {};\n            if (!(ctg1 in alignmentsByCtgs[ctg2]))\n                alignmentsByCtgs[ctg2][ctg1] = [];\n            alignment &&\n                (filterAlign ? !filterAlign(alignment) : true) &&\n                alignments.push(alignment) &&\n                alignmentsByCtgs[ctg1][ctg2].push(alignment) &&\n                alignmentsByCtgs[ctg2][ctg1].push(alignment);\n        }\n    });\n    return { alignments, alignmentsByCtgs, lenInfo };\n};\nexports.parseAlignFromContent = parseAlignFromContent;\nexports.default = parseAlignFile;\n__exportStar(require(\"./constants\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_OPACITY_FLAG = exports.DEFAULT_COLOR_FLAG = void 0;\nexports.DEFAULT_COLOR_FLAG = 'DEFAULT_COLOR';\nexports.DEFAULT_OPACITY_FLAG = -1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.complement = exports.intersection = void 0;\nfunction intersection(interval1, interval2) {\n    const [start1, end1] = interval1.sort((a, b) => a - b);\n    const [start2, end2] = interval2.sort((a, b) => a - b);\n    if (end1 < start2 || end2 < start1)\n        return [];\n    else\n        return [...interval1, ...interval2].sort((a, b) => a - b).slice(1, 3);\n}\nexports.intersection = intersection;\nfunction complement(wide, intervals) {\n    const [wideStart, wideEnd] = wide;\n    let [front, back] = [wideStart, wideStart];\n    const result = [];\n    intervals = intervals.map(interval => interval.sort((a, b) => a - b));\n    intervals.sort((a, b) => a[0] - b[0]);\n    for (let [start, end] of intervals) {\n        if (start > wideEnd)\n            break;\n        front = start;\n        if (front > back)\n            result.push([back, front - 1]);\n        if (end + 1 > back)\n            back = end + 1;\n    }\n    if (back <= wideEnd)\n        result.push([back, wideEnd]);\n    return result;\n}\nexports.complement = complement;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst error_1 = require(\"../../utils/error\");\nconst utils_1 = require(\"./utils\");\nconst typoOfDrawOptions = {\n    chro_thickness: 'number',\n    no_label: 'boolean',\n    label_font_size: 'number',\n    label_angle: 'number',\n    label_pos: 'string',\n    label_x_offset: 'number',\n    label_y_offset: 'number',\n    chro_axis: 'boolean',\n    chro_axis_unit: 'string',\n    chro_axis_pos: 'string',\n    gap_length: 'number',\n    align: 'string',\n};\nfunction paramsCreater() {\n    const options = this;\n    const drawOptions = [];\n    const { parameter, parameterContent } = options;\n    const defualtDrawOptionsItem = {\n        chro_thickness: options.chro_thickness,\n        no_label: options.no_label,\n        label_font_size: options.label_font_size,\n        label_angle: options.label_angle,\n        label_pos: options.label_pos,\n        label_x_offset: options.label_x_offset,\n        label_y_offset: options.label_y_offset,\n        chro_axis: options.chro_axis,\n        chro_axis_pos: options.chro_axis_pos,\n        chro_axis_unit: (0, utils_1.parseParamAxisUnit)(options.chro_axis_unit, 'chro_axis_unit'),\n        gap_length: options.gap_length,\n        align: options.align,\n    };\n    options.defualtDrawOptionsItem = defualtDrawOptionsItem;\n    options.getDrawOptionsItem = (index) => index in drawOptions ? drawOptions[index] : defualtDrawOptionsItem;\n    const content = parameter ? fs_1.default.readFileSync(parameter).toString() : parameterContent;\n    const parameterFile = parameter ? parameter : 'PARAMETER';\n    if (!content)\n        return options;\n    const lines = content.split('\\n');\n    for (let index = 0, lineCount = lines.length; index < lineCount; index++) {\n        const line = lines[index];\n        if (line.trim() === '')\n            continue;\n        const items = line.split(/\\s+/);\n        const drawOptionsItem = Object.assign({}, defualtDrawOptionsItem);\n        for (let item of items) {\n            const [drawOption, value] = item.split('=');\n            let convertValue = value;\n            if (!(drawOption in typoOfDrawOptions)) {\n                const info = (0, error_1.errorPos)(line, drawOption, item);\n                (0, error_1.warn)(`Illegal drawoption in '${drawOption}' ${parameter} line ${index + 1}\\n${info}`);\n                continue;\n            }\n            const typeOfDrawOption = typoOfDrawOptions[drawOption];\n            try {\n                if (typeOfDrawOption === 'boolean') {\n                    convertValue = Boolean(value);\n                    if (!value) {\n                        convertValue = true;\n                    }\n                    else if (['false', 'f'].includes(value.toLowerCase())) {\n                        convertValue = false;\n                    }\n                }\n                else if (typeOfDrawOption === 'number') {\n                    convertValue = (0, utils_1.parseParamFloat)(value, drawOption);\n                }\n                else if (typeOfDrawOption === 'string') {\n                    if (drawOption === 'label_pos') {\n                        convertValue = (0, utils_1.parseParamLabelPos)(value, drawOption);\n                    }\n                    else if (drawOption === 'align') {\n                        convertValue = (0, utils_1.parseParamAlign)(value, drawOption);\n                    }\n                    else if (drawOption === 'chro_axis_unit') {\n                        convertValue = (0, utils_1.parseParamAxisUnit)(value, drawOption);\n                    }\n                }\n            }\n            catch (error) {\n                const errPosInfo = (0, error_1.errorPos)(line, value, item);\n                error.message = `${error.message} at ${parameterFile} line ${index + 1}\\n${errPosInfo}`;\n                throw error;\n            }\n            drawOptionsItem[drawOption] = convertValue;\n        }\n        drawOptions.push(drawOptionsItem);\n    }\n    options.drawOptions = drawOptions;\n    return options;\n}\nexports.default = paramsCreater;\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.main = void 0;\n__exportStar(require(\"./plugins\"), exports);\n__exportStar(require(\"./@types/options\"), exports);\n__exportStar(require(\"./utils/error\"), exports);\nvar main_1 = require(\"./main\");\nObject.defineProperty(exports, \"main\", { enumerable: true, get: function () { return __importDefault(main_1).default; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst error_1 = require(\"../../utils/error\");\nfunction layoutCreater() {\n    const options = this;\n    const layout = [];\n    options.layout = layout;\n    const { karyotype, karyotypeContent } = options;\n    const content = karyotype\n        ? fs_1.default.readFileSync(karyotype).toString().trim()\n        : karyotypeContent;\n    const karyotypeFile = karyotype ? karyotype : 'KARYOTYPE';\n    if (!content)\n        return options;\n    const lines = content.split('\\n');\n    for (let index = 0, lineCount = lines.length; index < lineCount; index++) {\n        const line = lines[index].trim();\n        const items = line.split(/\\s+/);\n        layout.push([]);\n        for (let item of items) {\n            const leftDash = item.startsWith('-');\n            const rightDash = item.endsWith('-');\n            item = item.replace(/^-*/, '').replace(/-*$/, '');\n            const [ctg, startStr, endStr] = item.split(':');\n            const noIntervalInfo = startStr === undefined && endStr === undefined;\n            const start = noIntervalInfo ? 0 : Number(startStr);\n            const end = noIntervalInfo ? 0 : Number(endStr);\n            if (isNaN(start) || isNaN(end)) {\n                const errStr = isNaN(start) ? startStr : endStr;\n                const errorPosInfo = (0, error_1.errorPos)(line, errStr, item);\n                throw new Error(`format error at karyotype file '${karyotypeFile}' line ${index + 1}\\n${errorPosInfo}\\n'${errStr}' is not a number!`);\n            }\n            layout[index].push({ ctg, start, end, leftDash, rightDash });\n        }\n    }\n    return options;\n}\nexports.default = layoutCreater;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst layoutSvg_1 = __importDefault(require(\"./layoutSvg\"));\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst render_1 = __importDefault(require(\"./render\"));\nconst styleSvg_1 = __importDefault(require(\"./styleSvg\"));\nconst labelSvg_1 = __importDefault(require(\"./labelSvg\"));\nconst alignmentSvg_1 = __importDefault(require(\"./alignmentSvg\"));\nconst axisSvg_1 = __importDefault(require(\"./axisSvg\"));\nconst highlightSvg_1 = __importDefault(require(\"./highlightSvg\"));\nconst scaleSvg_1 = __importDefault(require(\"./scaleSvg\"));\nconst geneSvg_1 = __importDefault(require(\"./geneSvg\"));\nfunction svgCreater() {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        const options = this;\n        options.svg_template = [];\n        options.use(styleSvg_1.default);\n        options.use(layoutSvg_1.default);\n        options.use(labelSvg_1.default);\n        options.use(alignmentSvg_1.default);\n        options.use(highlightSvg_1.default);\n        yield options.use(geneSvg_1.default);\n        options.use(axisSvg_1.default);\n        options.use(scaleSvg_1.default);\n        (_a = options.svg_template) === null || _a === void 0 ? void 0 : _a.unshift(svgTemplates_1.SVG_START);\n        (_b = options.svg_template) === null || _b === void 0 ? void 0 : _b.push(svgTemplates_1.SVG_END);\n        options.svg = (0, render_1.default)(options.svg_template, options);\n    });\n}\nexports.default = svgCreater;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst error_1 = require(\"../../utils/error\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst render_1 = require(\"./render\");\nconst DASH_LEN = 12;\nfunction calculateLineLen(layoutLine, drowOptionsItem) {\n    const len = layoutLine\n        .map(({ start, end }) => Math.abs(end - start) + 1)\n        .reduce((total, cur) => total + cur);\n    const gapCount = layoutLine.length - 1;\n    const gapLen = drowOptionsItem.gap_length >= 1\n        ? drowOptionsItem.gap_length\n        : drowOptionsItem.gap_length * len;\n    const totalGapLen = gapLen * gapCount;\n    return {\n        len,\n        totalLen: len + totalGapLen,\n        gapLen,\n        totalGapLen,\n    };\n}\nfunction calculateScale(options) {\n    const { layout } = options;\n    let maxLen = 0;\n    for (let index = 0, levelCount = layout.length; index < levelCount; index++) {\n        const layoutLine = layout[index];\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        const lineLen = calculateLineLen(layoutLine, drawOptionsItem).totalLen;\n        if (maxLen < lineLen)\n            maxLen = lineLen;\n    }\n    const scale = options.svg_content_width / maxLen;\n    return scale;\n}\nfunction getSvgPosCreater(layoutItem) {\n    return function (xPos, yPos, isLargerPos = false) {\n        const { start, end } = layoutItem;\n        if (start > end)\n            isLargerPos = !isLargerPos;\n        const { x, y, width, height } = layoutItem.svgProps;\n        let xDeltaPos = Math.abs(xPos - start) + (isLargerPos ? 1 : 0);\n        if ((start > end && xPos > start) || (start < end && xPos < start))\n            xDeltaPos = -xDeltaPos;\n        const xDeltaTotal = (Math.abs(end - start) + 1);\n        const xRelativePos = xDeltaPos / xDeltaTotal;\n        const svgXPos = x + width * xRelativePos;\n        const svgYPos = yPos === 'top' ? y : y + height;\n        return [svgXPos, svgYPos];\n    };\n}\nfunction layoutSvg() {\n    const options = this;\n    const { layout, drawOptions } = options;\n    if (drawOptions && layout.length !== drawOptions.length) {\n        (0, error_1.warn)(`${options.karyotype} and ${options.parameter} have different lines！You'd better check it carefully！`);\n    }\n    let spaceVerticalTotal = options.svg_height;\n    for (let index = 0; index < layout.length; index++) {\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        layout[index].forEach((layoutItem) => {\n            if (layoutItem.start === 0 || layoutItem.end === 0)\n                (0, error_1.warn)(`'${layoutItem.ctg}' is missing start and end information and will be ignored！`);\n        });\n        layout[index] = layout[index].filter((layoutItem) => !(layoutItem.start === 0 || layoutItem.end === 0));\n        const layoutLine = layout[index];\n        let svgHeight = 0;\n        if (layoutLine.length > 0) {\n            layoutLine.forEach((layoutItem) => {\n                layoutItem.svgHeight = drawOptionsItem.chro_thickness;\n                if (svgHeight < layoutItem.svgHeight)\n                    svgHeight = layoutItem.svgHeight;\n            });\n            spaceVerticalTotal -= svgHeight;\n        }\n        else {\n            layout.splice(index, 1);\n            drawOptions && drawOptions.splice(index, 1);\n            index--;\n        }\n    }\n    const levelCount = layout.length;\n    const spaceVertical = spaceVerticalTotal / (levelCount + 1);\n    const scale = options.scale ? 1 / options.scale : calculateScale(options);\n    options.scale = scale;\n    let topCur = 0;\n    const svgContents = [];\n    const svgClipPathContents = [svgTemplates_1.SVG_CLIPPATH_START];\n    layout.forEach((layoutLine, index) => {\n        const svgHeight = Math.max(...layoutLine.map((layoutItem) => layoutItem.svgHeight));\n        topCur += spaceVertical;\n        topCur += svgHeight;\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        const { gapLen, totalGapLen, totalLen, len } = calculateLineLen(layoutLine, drawOptionsItem);\n        let leftCur = (options.svg_width * options.svg_space) / 2;\n        switch (drawOptionsItem.align) {\n            case 'left':\n                break;\n            case 'center':\n                leftCur += (options.svg_content_width - totalLen * scale) / 2;\n                break;\n            case 'right':\n                leftCur += options.svg_content_width - totalLen * scale;\n                break;\n            default:\n                break;\n        }\n        layoutLine.forEach((layoutItem) => {\n            const { ctg, start, end, svgHeight: svgHeightItem } = layoutItem;\n            const max = Math.max(start, end);\n            const min = Math.min(start, end);\n            const svgProps = {\n                y: topCur,\n                height: drawOptionsItem.chro_thickness,\n                x: leftCur,\n                width: (max - min + 1) * scale,\n            };\n            if (leftCur + svgProps.width > options.svg_width) {\n                (0, error_1.warn)(`'${ctg}:${start}:${end}' is out of the scope of the picture！`);\n            }\n            if (layoutItem.leftDash) {\n                svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_CTG_DASH, {\n                    y: topCur + drawOptionsItem.chro_thickness / 2,\n                    x1: leftCur - DASH_LEN,\n                    x2: leftCur,\n                }));\n            }\n            if (layoutItem.rightDash) {\n                svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_CTG_DASH, {\n                    y: topCur + drawOptionsItem.chro_thickness / 2,\n                    x1: svgProps.width + leftCur,\n                    x2: svgProps.width + leftCur + DASH_LEN,\n                }));\n            }\n            const svgContent = (0, render_1.renderItem)(svgTemplates_1.SVG_CTG, svgProps);\n            svgContents.push(svgContent);\n            svgClipPathContents.push(svgContent);\n            leftCur += svgProps.width + gapLen * scale;\n            layoutItem.svgProps = svgProps;\n            layoutItem.getSvgPos = getSvgPosCreater(layoutItem);\n        });\n    });\n    svgClipPathContents.push(svgTemplates_1.SVG_CLIPPATH_END);\n    svgContents.push(...svgClipPathContents);\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = layoutSvg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst svgTemplates_1 = require(\"./svgTemplates\");\nfunction styleSvg() {\n    const options = this;\n    const svgContents = [];\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    if (options.style in svgTemplates_1.styles) {\n        options.svg_template.push({ content: svgTemplates_1.styles[options.style] });\n    }\n    return options;\n}\nexports.default = styleSvg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst render_1 = require(\"./render\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nfunction labelSvg() {\n    const options = this;\n    const { layout } = options;\n    const svgContents = [];\n    layout.forEach((layoutLine, index) => {\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        if (drawOptionsItem.no_label)\n            return;\n        layoutLine.forEach((layoutItem) => {\n            let [x, y] = drawOptionsItem.label_pos === 'left'\n                ? layoutItem.getSvgPos(layoutItem.start, 'bottom', layoutItem.end < layoutItem.start)\n                : drawOptionsItem.label_pos === 'center'\n                    ? layoutItem.getSvgPos(layoutItem.start + (layoutItem.end - layoutItem.start) / 2, 'bottom', layoutItem.end < layoutItem.start)\n                    : layoutItem.getSvgPos(layoutItem.end, 'bottom', layoutItem.end > layoutItem.start);\n            y += drawOptionsItem.label_font_size;\n            x += drawOptionsItem.label_x_offset;\n            y += drawOptionsItem.label_y_offset;\n            const labelProps = {\n                x,\n                y,\n                label_font_size: drawOptionsItem.label_font_size,\n                label_angle: drawOptionsItem.label_angle,\n                ctg: layoutItem.ctg,\n            };\n            svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_LABEL, labelProps));\n        });\n    });\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = labelSvg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst linkview_align_parser_1 = require(\"@linkview/linkview-align-parser\");\nconst render_1 = require(\"./render\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nfunction alignmentSvg() {\n    const options = this;\n    const { layout, alignmentsByCtgs } = options;\n    const svgContents = [];\n    for (let index = 0, levelCount = layout.length; index < levelCount - 1; index++) {\n        const layoutLineCur = layout[index];\n        const layoutLineNext = layout[index + 1];\n        layoutLineCur.forEach(layoutItemCur => {\n            layoutLineNext.forEach(layoutItemNext => {\n                const ctg1 = layoutItemCur.ctg;\n                const ctg2 = layoutItemNext.ctg;\n                const alignments = ctg1 in alignmentsByCtgs\n                    ? ctg2 in alignmentsByCtgs[ctg1]\n                        ? alignmentsByCtgs[ctg1][ctg2]\n                        : []\n                    : [];\n                if (!alignments)\n                    return;\n                alignments.forEach(alignment => {\n                    const displayStart1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.start : layoutItemNext.start;\n                    const displayEnd1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.end : layoutItemNext.end;\n                    const displayStart2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.start : layoutItemNext.start;\n                    const displayEnd2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.end : layoutItemNext.end;\n                    const calculatedAlignment = (0, linkview_align_parser_1.calculateSubAlign)(alignment, displayStart1, displayEnd1, displayStart2, displayEnd2);\n                    if (!calculatedAlignment)\n                        return;\n                    let { start1, end1, start2, end2 } = calculatedAlignment;\n                    if (!(alignment.ctg1 === ctg1)) {\n                        [start1, start2] = [start2, start1];\n                        [end1, end2] = [end2, end1];\n                    }\n                    const [x1, y1] = layoutItemCur.getSvgPos(start1, 'bottom', start1 === Math.max(start1, end1));\n                    const [x2, y2] = layoutItemNext.getSvgPos(start2, 'top', start2 === Math.max(start2, end2));\n                    const [x3, y3] = layoutItemNext.getSvgPos(end2, 'top', end2 === Math.max(start2, end2));\n                    const [x4, y4] = layoutItemCur.getSvgPos(end1, 'bottom', end1 === Math.max(start1, end1));\n                    const selfFill = alignment.color === linkview_align_parser_1.DEFAULT_COLOR_FLAG ? '' : `fill: ${alignment.color};`;\n                    const selfOpacity = alignment.opacity === linkview_align_parser_1.DEFAULT_OPACITY_FLAG ? '' : `opacity: ${alignment.opacity};`;\n                    const selfStyle = selfFill || selfOpacity ? `style=\"${selfFill} ${selfOpacity}\"` : '';\n                    const alignProps = {\n                        x1,\n                        y1,\n                        x2,\n                        y2,\n                        x3,\n                        y3,\n                        x4,\n                        y4,\n                        selfStyle,\n                    };\n                    if (options.bezier) {\n                        const multipliers = x1 > x2 ? [1, 2, 2, 1] : [2, 1, 1, 2];\n                        Object.assign(alignProps, {\n                            bezierX1: x1,\n                            bezierY1: Math.min(y1, y2) + Math.abs(y1 - y2) / 3 * multipliers[0],\n                            bezierX2: x2,\n                            bezierY2: Math.min(y1, y2) + Math.abs(y1 - y2) / 3 * multipliers[1],\n                            bezierX3: x3,\n                            bezierY3: Math.min(y3, y4) + Math.abs(y3 - y4) / 3 * multipliers[2],\n                            bezierX4: x4,\n                            bezierY4: Math.min(y3, y4) + Math.abs(y3 - y4) / 3 * multipliers[3],\n                        });\n                    }\n                    const svgTemplate = options.bezier ? svgTemplates_1.SVG_ALIGN_BEZIER : svgTemplates_1.SVG_ALIGN;\n                    svgContents.push((0, render_1.renderItem)(svgTemplate, alignProps));\n                });\n            });\n        });\n    }\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = alignmentSvg;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkTypeFromContent = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst eachLine_1 = __importDefault(require(\"../utils/eachLine\"));\nconst checkTypeByHeadLines_1 = __importDefault(require(\"./checkTypeByHeadLines\"));\nconst getParserOpt_1 = __importDefault(require(\"./getParserOpt\"));\nconst error_1 = require(\"../utils/error\");\nconst characteristics_1 = require(\"../@types/characteristics\");\nconst LINE_COUNT = 5;\nfunction checkType(fileName) {\n    const headLines = [];\n    if (!fs_1.default.existsSync(fileName))\n        throw new Error(`${fileName} does not exist, please check!`);\n    return (0, eachLine_1.default)(fileName, (line, lineIndex) => {\n        headLines.push(line);\n        if (lineIndex >= LINE_COUNT)\n            return false;\n    }, (line) => {\n        return line.startsWith('#') || line === '';\n    }).then(() => {\n        const alignType = (0, checkTypeByHeadLines_1.default)(headLines);\n        alignType === characteristics_1.AlignType.UNKNOWN && (0, error_1.warn)('Unknown input alignment type!');\n        return {\n            alignType,\n            parserOpt: (0, getParserOpt_1.default)(alignType, headLines),\n        };\n    });\n}\nexports.default = checkType;\nfunction checkTypeFromContent(content) {\n    const headLines = content.trim().split('\\n').filter(line => {\n        return !(line.startsWith('#') || line === '');\n    }).slice(0, 5);\n    const alignType = (0, checkTypeByHeadLines_1.default)(headLines);\n    if (alignType === characteristics_1.AlignType.UNKNOWN) {\n        throw new Error('Unknown input alignment type!');\n    }\n    return {\n        alignType,\n        parserOpt: (0, getParserOpt_1.default)(alignType, headLines),\n    };\n}\nexports.checkTypeFromContent = checkTypeFromContent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numberColumnsSet = exports.strandFlags = exports.numberColumns = void 0;\nexports.numberColumns = [\n    'start1',\n    'end1',\n    'len1',\n    'start2',\n    'end2',\n    'len2',\n    'alignLen',\n    'identity',\n    'evalue',\n    'bitScore',\n    'otherNumber',\n];\nexports.strandFlags = {\n    minimapStrand: ['+', '-'],\n    nucmerStrand: ['Plus', 'Minus'],\n};\nexports.numberColumnsSet = new Set(exports.numberColumns);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst characteristics_1 = __importDefault(require(\"../checkType/characteristics\"));\nconst characteristics_2 = require(\"../@types/characteristics\");\nconst calcNucmerParseOpt = (headLines) => {\n    const filters = [\n        { startsWith: 'NUCMER', endsWith: 'NUCMER' },\n        { startsWith: '/' },\n        { startsWith: '[', endsWith: ']' },\n        { startsWith: '=', endsWith: '=' }\n    ];\n    const split = /\\s+\\|\\s+|\\s+/;\n    const splitT = /\\s+/;\n    const parseOpt = {\n        split: split,\n        filters,\n        columns: [],\n    };\n    const columnsMap = {\n        '[S1]': 'start1',\n        '[E1]': 'end1',\n        '[S2]': 'start2',\n        '[E2]': 'end2',\n        '[LEN 1]': 'alignLen',\n        '[LEN 2]': 'alignLen',\n        '[LEN R]': 'len1',\n        '[LEN Q]': 'len2',\n        '[COV R]': 'otherNumber',\n        '[COV Q]': 'otherNumber',\n        '[% IDY]': 'identity',\n        '[TAG1]': 'ctg1',\n        '[TAG2]': 'ctg2',\n    };\n    headLines.findIndex(line => {\n        line = line.trim();\n        if (line.startsWith('[') && line.endsWith(']')) {\n            if (!line.includes('|'))\n                parseOpt.split = splitT;\n            const tagArr = line.match(/\\[.+?\\]/g);\n            const tagsIndex = tagArr.indexOf('[TAGS]');\n            tagsIndex >= 0 && tagArr.splice(tagsIndex, 1, '[TAG1]', '[TAG2]');\n            tagArr.forEach(tag => {\n                parseOpt.columns.push(columnsMap[tag]);\n            });\n            return true;\n        }\n        return false;\n    });\n    return parseOpt;\n};\nconst getParseOptions = (alignType, headLines) => {\n    switch (alignType) {\n        case characteristics_2.AlignType.UNKNOWN:\n            return null;\n        case characteristics_2.AlignType.STANDARD:\n        case characteristics_2.AlignType.BLAST:\n        case characteristics_2.AlignType.MINIMAP:\n        case characteristics_2.AlignType.NUCMER_B:\n            return {\n                split: characteristics_1.default[alignType].all.split,\n                columns: characteristics_1.default[alignType].all.columns,\n            };\n        case characteristics_2.AlignType.NUCMER:\n        case characteristics_2.AlignType.NUCMER_T:\n            return calcNucmerParseOpt(headLines);\n        default:\n            return null;\n    }\n};\nexports.default = getParseOptions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ctgsInCtgPairs = (ctgPairs, ctg1, ctg2) => ctgPairs.findIndex(([filterCtg1, filterCtg2]) => (filterCtg1 === ctg1 && filterCtg2 === ctg2) ||\n    (filterCtg1 === ctg2 && filterCtg2 === ctg1)) >= 0;\nconst filterAlignCreater = (filterAlignOpt) => (alignment) => {\n    const { alignLen, identity, evalue, bitScore, ctg1, ctg2 } = alignment;\n    const { minAlignmentLength, minIdentity, maxEvalue, minBitScore, filterCtgPairs, } = filterAlignOpt;\n    if (minAlignmentLength && alignLen < minAlignmentLength)\n        return true;\n    if (minIdentity && identity && identity < minIdentity)\n        return true;\n    if (evalue && maxEvalue !== undefined && evalue > maxEvalue)\n        return true;\n    if (bitScore && minBitScore && bitScore < minBitScore)\n        return true;\n    if (filterCtgPairs && ctgsInCtgPairs(filterCtgPairs, ctg1, ctg2))\n        return true;\n    return false;\n};\nexports.default = filterAlignCreater;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./alignment\"), exports);\n__exportStar(require(\"./characteristics\"), exports);\n__exportStar(require(\"./filterAlign\"), exports);\n__exportStar(require(\"./parser\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateSubAlign = void 0;\nconst interval_1 = require(\"../utils/interval\");\nfunction calculateSubAlign(alignment, displayStart1, displayEnd1, displayStart2, displayEnd2) {\n    const { start1, end1, start2, end2 } = alignment;\n    const noIntervalInfo1 = displayStart1 === 0 && displayEnd1 === 0;\n    const noIntervalInfo2 = displayStart2 === 0 && displayEnd2 === 0;\n    if (noIntervalInfo1 && noIntervalInfo2)\n        return alignment;\n    const displayStart1Position = calculatePosition(start1, end1, displayStart1);\n    const displayEnd1Position = calculatePosition(start1, end1, displayEnd1);\n    const displayStart2Position = calculatePosition(start2, end2, displayStart2);\n    const displayEnd2Position = calculatePosition(start2, end2, displayEnd2);\n    if (displayStart1Position === displayEnd1Position && !noIntervalInfo1)\n        return null;\n    if (displayStart2Position === displayEnd2Position && !noIntervalInfo2)\n        return null;\n    const displayPosions = displayStart1 === 0 && displayEnd1 === 0\n        ? [displayStart2Position, displayEnd2Position]\n        : displayStart2 === 0 && displayEnd2 === 0\n            ? [displayStart1Position, displayEnd1Position]\n            : (0, interval_1.intersection)([displayStart1Position, displayEnd1Position], [displayStart2Position, displayEnd2Position]);\n    if (displayPosions.length === 0)\n        return null;\n    const [displayStartPosition, displayEndPosition] = displayPosions;\n    displayStart1 = position2Site(start1, end1, displayStartPosition);\n    displayEnd1 = position2Site(start1, end1, displayEndPosition);\n    displayStart2 = position2Site(start2, end2, displayStartPosition);\n    displayEnd2 = position2Site(start2, end2, displayEndPosition);\n    return Object.assign(Object.assign({}, alignment), { start1: displayStart1, end1: displayEnd1, start2: displayStart2, end2: displayEnd2 });\n}\nexports.calculateSubAlign = calculateSubAlign;\nfunction calculatePosition(start, end, point) {\n    if (point < Math.min(start, end))\n        return start < end ? 0 : 1;\n    if (point > Math.max(start, end))\n        return start < end ? 1 : 0;\n    return (Math.abs(point - start) + 1) / (Math.abs(end - start) + 1);\n}\nfunction position2Site(start, end, position) {\n    if (position === 0)\n        return start;\n    if (position === 1)\n        return end;\n    let distance = Math.abs(end - start) + 1;\n    const site = start > end\n        ? start - (distance * position - 1)\n        : start + (distance * position - 1);\n    return Number(site.toFixed(0));\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.eachLine = void 0;\n__exportStar(require(\"./error\"), exports);\n__exportStar(require(\"./interval\"), exports);\nvar eachLine_1 = require(\"./eachLine\");\nObject.defineProperty(exports, \"eachLine\", { enumerable: true, get: function () { return __importDefault(eachLine_1).default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst render_1 = require(\"./render\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst UNIT1_SIZE = 2;\nconst UNIT2_SIZE = 5;\nconst UNIT3_SIZE = 8;\nconst TEXT_DISTANCE = 12;\nconst AXIS_ANGLE = 25;\nconst MB = 1000000;\nconst KB = 1000;\nfunction inferUnit(layout) {\n    let maxLen = 0;\n    layout.forEach(layoutLine => {\n        let len = 0;\n        layoutLine.forEach(layoutItem => {\n            len += Math.abs(layoutItem.start - layoutItem.end);\n        });\n        if (len > maxLen)\n            maxLen = len;\n    });\n    let unit = 1;\n    while (true) {\n        const count = maxLen / unit / 5;\n        if (count <= 20)\n            break;\n        unit *= 10;\n    }\n    return unit;\n}\nfunction getSingleAxis(layoutItem, unit, pos) {\n    const svgContents = [];\n    const { start, end } = layoutItem;\n    const min = Math.min(start, end);\n    const max = Math.max(start, end);\n    let cur = min % unit === 0 ? min : min - (min % unit) + unit;\n    const getSinglePointAxis = (site, pos) => {\n        const svgContents = [];\n        const [x1, y] = layoutItem.getSvgPos(site, pos, true);\n        const [x2] = layoutItem.getSvgPos(site, pos, false);\n        const x = (x1 + x2) / 2;\n        let unitSize = UNIT1_SIZE;\n        if (site % (unit * 10) === 0) {\n            unitSize = UNIT3_SIZE;\n        }\n        else if (site % (unit * 5) === 0) {\n            unitSize = UNIT2_SIZE;\n        }\n        const svgProps = {\n            x,\n            y1: y,\n            y2: y + (pos === 'top' ? -unitSize : unitSize),\n            textX: x,\n            textY: y + (pos === 'top' ? -TEXT_DISTANCE : TEXT_DISTANCE),\n            textAngle: pos === 'top' ? 360 - AXIS_ANGLE : AXIS_ANGLE,\n            text: formatSite(site),\n        };\n        svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_AXIS_POINT, svgProps));\n        if (site % (unit * 5) === 0) {\n            svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_AXIS_TEXT, svgProps));\n        }\n        return svgContents;\n    };\n    while (cur < max) {\n        if (pos === 'both' || pos === 'bottom') {\n            svgContents.push(...getSinglePointAxis(cur, 'bottom'));\n        }\n        if (pos === 'both' || pos === 'top') {\n            svgContents.push(...getSinglePointAxis(cur, 'top'));\n        }\n        cur += unit;\n    }\n    return svgContents;\n}\nfunction formatSite(site) {\n    if (site > MB) {\n        return `${(site / MB).toFixed(2)} Mb`;\n    }\n    else if (site > KB) {\n        return `${(site / KB).toFixed(2)} Kb`;\n    }\n    else {\n        return `${site} bp`;\n    }\n}\nfunction axisSvg() {\n    const options = this;\n    const { layout, alignmentsByCtgs } = options;\n    const svgContents = [];\n    const unitAuto = inferUnit(layout);\n    layout.forEach((layoutLine, index) => {\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        const { chro_axis: chroAxis, chro_axis_pos: chroAxisPos } = drawOptionsItem;\n        if (chroAxis) {\n            const unit = drawOptionsItem.chro_axis_unit === 'auto' ? unitAuto : drawOptionsItem.chro_axis_unit;\n            console.log('unit', unit);\n            layoutLine.forEach(layoutItem => {\n                svgContents.push(...getSingleAxis(layoutItem, unit, chroAxisPos));\n            });\n        }\n    });\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = axisSvg;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst render_1 = require(\"./render\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst utils_1 = require(\"../paramsCreater/utils\");\nconst linkview_align_parser_1 = require(\"@linkview/linkview-align-parser\");\nconst HIGHLIGHT_DEFAULT_COLOR = 'red';\nfunction assignHighlightsMap(target, source) {\n    for (let ctg in source) {\n        if (!(ctg in target)) {\n            target[ctg] = source[ctg];\n        }\n        else {\n            target[ctg].push(...source[ctg]);\n        }\n    }\n}\nfunction parseHighlightFile(highlightFiles) {\n    const highlightsMap = {};\n    for (let highlightFile of highlightFiles) {\n        const content = fs_1.default.readFileSync(highlightFile).toString().trim();\n        const highlightsMapSingle = parseHighligtContent(content);\n        assignHighlightsMap(highlightsMap, highlightsMapSingle);\n    }\n    return highlightsMap;\n}\nfunction parseHighligtContent(content, fineName = 'HIGHLIGHT') {\n    const highlightsMap = {};\n    if (!content)\n        return highlightsMap;\n    const lines = content.split('\\n');\n    for (let index = 0, count = lines.length; index < count; index++) {\n        const line = lines[index];\n        if (line.startsWith('#'))\n            continue;\n        const [ctg, startStr, endStr, color] = line.split(/\\s+/);\n        const start = (0, utils_1.parseBases)(startStr);\n        const end = (0, utils_1.parseBases)(endStr);\n        if (isNaN(start)) {\n            const errorInfo = (0, linkview_align_parser_1.errorPos)(line, [ctg, startStr, endStr, color], 1);\n            throw new Error(`${startStr} cannot be resolved to number of bases! in '${fineName}' line ${index + 1}:\\n${errorInfo}`);\n        }\n        if (isNaN(end)) {\n            const errorInfo = (0, linkview_align_parser_1.errorPos)(line, [ctg, startStr, endStr, color], 1);\n            throw new Error(`${endStr} cannot be resolved to number of bases! in '${fineName}' line ${index + 1}:\\n${errorInfo}`);\n        }\n        if (!(ctg in highlightsMap))\n            highlightsMap[ctg] = [];\n        highlightsMap[ctg].push({\n            start,\n            end,\n            color: color ? color : HIGHLIGHT_DEFAULT_COLOR,\n        });\n    }\n    return highlightsMap;\n}\nfunction highlightSvg() {\n    const options = this;\n    const { layout } = options;\n    const svgContents = [];\n    const { highlight, highlightContent } = options;\n    if ((!highlight) && (!highlightContent))\n        return options;\n    const highlightsMap = highlight ? parseHighlightFile(highlight) : parseHighligtContent(highlightContent);\n    layout.forEach((layoutLine, index) => {\n        const drawOptionsItem = options.getDrawOptionsItem(index);\n        layoutLine.forEach((layoutItem) => {\n            var _a;\n            const { ctg, start, end } = layoutItem;\n            const max = Math.max(start, end);\n            const min = Math.min(start, end);\n            const highlights = highlightsMap[ctg];\n            if (!highlights || highlights.length === 0)\n                return;\n            for (let highlight of highlights) {\n                let { start: hlStart, end: hlEnd, color } = highlight;\n                [hlStart, hlEnd] = (0, linkview_align_parser_1.intersection)([max, min], [hlStart, hlEnd]);\n                if (hlStart > hlEnd)\n                    [hlStart, hlEnd] = [hlEnd, hlStart];\n                if (hlStart && hlEnd) {\n                    const [xStart, ystart] = layoutItem.getSvgPos(hlStart, 'top', false);\n                    const [xEnd] = layoutItem.getSvgPos(hlEnd, 'top', true);\n                    let width = Math.abs(xEnd - xStart);\n                    if (width < 1 && options.hl_min1px)\n                        width = 1;\n                    const highlightProps = {\n                        x: Math.min(xStart, xEnd),\n                        y: ystart,\n                        width,\n                        height: (_a = layoutItem.svgProps) === null || _a === void 0 ? void 0 : _a.height,\n                        color\n                    };\n                    svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_HIGHLIGHT, highlightProps));\n                }\n            }\n        });\n    });\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = highlightSvg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst render_1 = require(\"./render\");\nconst SCALE_SVG_WIDTH = 150;\nconst SCALE_SVG_HEIGHT = 5;\nconst suffixMap = {\n    '00 Mb': 100000000,\n    '0 Mb': 10000000,\n    'Mb': 1000000,\n    '00 Kb': 100000,\n    '0 Kb': 10000,\n    'Kb': 1000,\n    '00 bp': 100,\n    '0 bp': 10,\n    'bp': 1,\n};\nfunction scaleSvg() {\n    const options = this;\n    const { scale, show_scale, svg_width, svg_space, svg_height } = options;\n    if (!show_scale)\n        return options;\n    const svgContents = [];\n    const basesPer1Px = 1 / scale;\n    let scaleBases = basesPer1Px * SCALE_SVG_WIDTH;\n    let text = '';\n    const suffixs = Object.keys(suffixMap).sort((a, b) => suffixMap[b] - suffixMap[a]);\n    for (let suffix of suffixs) {\n        const unit = suffixMap[suffix];\n        if (scaleBases > unit) {\n            const count = Number((scaleBases / unit).toFixed(0));\n            scaleBases = count * unit;\n            text = `${count}${suffix}`;\n            break;\n        }\n    }\n    const scaleX = svg_width * (1 - svg_space / 2) - scaleBases * scale;\n    const scaleY = svg_height * 0.9;\n    svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_SCALE_LINE, {\n        x1: scaleX,\n        y1: scaleY - SCALE_SVG_HEIGHT,\n        x2: scaleX,\n        y2: scaleY,\n        x3: scaleX + scaleBases * scale,\n        y3: scaleY,\n        x4: scaleX + scaleBases * scale,\n        y4: scaleY - SCALE_SVG_HEIGHT,\n    }));\n    const textWidth = options.label_font_size * text.length / 2;\n    svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_SCALE_TEXT, {\n        x: scaleX + (scaleBases * scale - textWidth) / 2,\n        y: scaleY - 2 * SCALE_SVG_HEIGHT,\n        fontSize: options.label_font_size,\n        text,\n    }));\n    if (!options.svg_template)\n        options.svg_template = [];\n    options.svg_template.push({ content: svgContents });\n    return options;\n}\nexports.default = scaleSvg;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst linkview_align_parser_1 = require(\"@linkview/linkview-align-parser\");\nconst render_1 = require(\"./render\");\nconst svgTemplates_1 = require(\"./svgTemplates\");\nconst geneType = ['gene'];\nconst mRnaType = ['mrna'];\nconst exonType = ['exon'];\nconst utr3Type = ['three_prime_UTR', '3_UTR'];\nconst utr5Type = ['five_prime_UTR', '5_UTR'];\nfunction parseAttributes(attr) {\n    const res = {};\n    if (!attr.endsWith(';'))\n        attr += ';';\n    let contentFlag = false;\n    let lastPos = 0;\n    for (let index = 0, len = attr.length; index < len; index++) {\n        const char = attr[index];\n        if (char === '\"') {\n            contentFlag = !contentFlag;\n        }\n        else if (char === ';' && !contentFlag) {\n            const item = attr.slice(lastPos, index);\n            let [key, value] = item.split('=');\n            value = value ? value.trim().replace(/\"/g, '') : '';\n            res[key] = value;\n            lastPos = index + 1;\n        }\n    }\n    return res;\n}\nfunction parseGff(gffFile, ctgs) {\n    const mRNAInfoMap = {};\n    const ctg2MRNAInfos = {};\n    const initMRNAInfoMap = (mRNAId) => {\n        mRNAInfoMap[mRNAId] = {\n            exons: [],\n            UTR3s: [],\n            UTR5s: [],\n            pos: [-1, -1],\n            parent: undefined,\n            strand: '+',\n        };\n    };\n    return (0, linkview_align_parser_1.eachLine)(gffFile, (line) => {\n        if (line.startsWith('#') || line.trim() === '')\n            return true;\n        let [ctg, source, annoType, start, end, score, strand, phase, attrStr] = line.split('\\t');\n        if (!ctgs.has(ctg))\n            return true;\n        const attr = parseAttributes(attrStr);\n        const annoId = attr.ID;\n        annoType = annoType.toLowerCase();\n        if (mRnaType.includes(annoType)) {\n            if (!mRNAInfoMap[annoId]) {\n                initMRNAInfoMap(annoId);\n            }\n            mRNAInfoMap[annoId].pos = [Number(start), Number(end)];\n            mRNAInfoMap[annoId].parent = attr.Parent;\n            mRNAInfoMap[annoId].strand = strand;\n            if (!ctg2MRNAInfos[ctg])\n                ctg2MRNAInfos[ctg] = [];\n            ctg2MRNAInfos[ctg].push(mRNAInfoMap[annoId]);\n        }\n        else if (exonType.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                return true;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].exons.push([Number(start), Number(end)]);\n        }\n        else if (utr3Type.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                return true;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].UTR3s.push([Number(start), Number(end)]);\n        }\n        else if (utr5Type.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                return true;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].UTR5s.push([Number(start), Number(end)]);\n        }\n        return true;\n    }).then(() => {\n        return { mRNAInfoMap, ctg2MRNAInfos };\n    });\n}\nfunction parseGffContent(gffContent, ctgs) {\n    const mRNAInfoMap = {};\n    const ctg2MRNAInfos = {};\n    const initMRNAInfoMap = (mRNAId) => {\n        mRNAInfoMap[mRNAId] = {\n            exons: [],\n            UTR3s: [],\n            UTR5s: [],\n            pos: [-1, -1],\n            parent: undefined,\n            strand: '+',\n        };\n    };\n    const lines = gffContent.trim().split('\\n');\n    for (const line of lines) {\n        if (line.startsWith('#') || line.trim() === '')\n            continue;\n        let [ctg, source, annoType, start, end, score, strand, phase, attrStr] = line.split('\\t');\n        if (!ctgs.has(ctg))\n            continue;\n        const attr = parseAttributes(attrStr);\n        const annoId = attr.ID;\n        annoType = annoType.toLowerCase();\n        if (mRnaType.includes(annoType)) {\n            if (!mRNAInfoMap[annoId]) {\n                initMRNAInfoMap(annoId);\n            }\n            mRNAInfoMap[annoId].pos = [Number(start), Number(end)];\n            mRNAInfoMap[annoId].parent = attr.Parent;\n            mRNAInfoMap[annoId].strand = strand;\n            if (!ctg2MRNAInfos[ctg])\n                ctg2MRNAInfos[ctg] = [];\n            ctg2MRNAInfos[ctg].push(mRNAInfoMap[annoId]);\n        }\n        else if (exonType.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                continue;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].exons.push([Number(start), Number(end)]);\n        }\n        else if (utr3Type.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                continue;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].UTR3s.push([Number(start), Number(end)]);\n        }\n        else if (utr5Type.includes(annoType)) {\n            const mRNAId = attr.Parent;\n            if (!mRNAId)\n                continue;\n            if (!mRNAInfoMap[mRNAId])\n                initMRNAInfoMap(annoId);\n            mRNAInfoMap[mRNAId].UTR5s.push([Number(start), Number(end)]);\n        }\n    }\n    return { mRNAInfoMap, ctg2MRNAInfos };\n}\nfunction assignCtg2MRNAInfosSingle(target, source) {\n    for (let ctg in source) {\n        if (!(ctg in target)) {\n            target[ctg] = source[ctg];\n        }\n        else {\n            target[ctg].push(...source[ctg]);\n        }\n    }\n}\nfunction mRNAInfosDeOverlap(mRNAInfos) {\n    mRNAInfos.sort((a, b) => a.pos[0] - b.pos[0]);\n    let lastStart = 0, lastEnd = 0;\n    for (let index = 0, count = mRNAInfos.length; index < count; index++) {\n        const mRNAInfo = mRNAInfos[index];\n        if (!mRNAInfo)\n            continue;\n        const [start, end] = mRNAInfo.pos;\n        if ((0, linkview_align_parser_1.intersection)([lastStart, lastEnd], [start, end]).length !== 0) {\n            mRNAInfos.splice(index, 1);\n            index--;\n            count--;\n        }\n        else {\n            lastStart = start;\n            lastEnd = end;\n        }\n    }\n}\nfunction renderExons(intervals, direction, layoutItem, className) {\n    const svgContents = [];\n    for (const [intervalStart, intervalEnd] of intervals) {\n        const [xStart, yStart] = layoutItem.getSvgPos(intervalStart, 'top');\n        const [xEnd] = layoutItem.getSvgPos(intervalEnd, 'top', true);\n        const xMin = Math.min(xStart, xEnd);\n        const xMax = Math.max(xStart, xEnd);\n        const xMinMiddle = xMin + (xMax - xMin) * 0.2;\n        const xMaxMiddle = xMin + (xMax - xMin) * 0.8;\n        const yTop = yStart + layoutItem.svgHeight * 0.2;\n        const yMiddle = yStart + layoutItem.svgHeight * 0.5;\n        const yBottom = yStart + layoutItem.svgHeight * 0.8;\n        const svgGeneExonPropsForward = {\n            x1: xMin,\n            y1: yTop,\n            x2: xMin,\n            y2: yBottom,\n            x3: xMaxMiddle,\n            y3: yBottom,\n            x4: xMax,\n            y4: yMiddle,\n            x5: xMaxMiddle,\n            y5: yTop,\n            className,\n        };\n        const svgGeneExonPropsReverse = {\n            x1: xMin,\n            y1: yMiddle,\n            x2: xMinMiddle,\n            y2: yBottom,\n            x3: xMax,\n            y3: yBottom,\n            x4: xMax,\n            y4: yTop,\n            x5: xMinMiddle,\n            y5: yTop,\n            className,\n        };\n        svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_GENE_EXON, direction > 0 ? svgGeneExonPropsForward : svgGeneExonPropsReverse));\n    }\n    return svgContents;\n}\nfunction geneSvg() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const options = this;\n        const { layout, gff: gffs, gffContent } = options;\n        const svgContents = [];\n        const mRNAInfoMap = {};\n        const ctg2MRNAInfos = {};\n        const ctgs = new Set();\n        layout.forEach(layoutLine => {\n            layoutLine.forEach(layoutItem => {\n                const { ctg } = layoutItem;\n                ctgs.add(ctg);\n            });\n        });\n        if (gffs) {\n            for (let gff of gffs) {\n                const { mRNAInfoMap: mRNAInfoMapSingle, ctg2MRNAInfos: ctg2MRNAInfosSingle } = yield parseGff(gff, ctgs);\n                Object.assign(mRNAInfoMap, mRNAInfoMapSingle);\n                assignCtg2MRNAInfosSingle(ctg2MRNAInfos, ctg2MRNAInfosSingle);\n            }\n        }\n        else if (gffContent) {\n            const { mRNAInfoMap: mRNAInfoMapSingle, ctg2MRNAInfos: ctg2MRNAInfosSingle } = parseGffContent(gffContent, ctgs);\n            Object.assign(mRNAInfoMap, mRNAInfoMapSingle);\n            assignCtg2MRNAInfosSingle(ctg2MRNAInfos, ctg2MRNAInfosSingle);\n        }\n        layout.forEach(layoutLine => {\n            layoutLine.forEach(layoutItem => {\n                const { ctg, start, end } = layoutItem;\n                const min = Math.min(start, end);\n                const max = Math.max(start, end);\n                let mRNAInfos = ctg2MRNAInfos[ctg];\n                if (!mRNAInfos)\n                    return;\n                mRNAInfos = mRNAInfos.filter(mRNAInfo => {\n                    const [mRNAStart, mRNAEnd] = mRNAInfo.pos;\n                    if (mRNAEnd < min || mRNAStart > max)\n                        return false;\n                    return true;\n                });\n                mRNAInfosDeOverlap(mRNAInfos);\n                for (let mRNAInfo of mRNAInfos) {\n                    const { exons, UTR3s, UTR5s, strand } = mRNAInfo;\n                    const [mRNAStart, mRNAEnd] = mRNAInfo.pos;\n                    const introns = (0, linkview_align_parser_1.complement)([mRNAStart, mRNAEnd], [...exons, ...UTR3s, ...UTR5s]);\n                    let direction = 1;\n                    if (strand === '-')\n                        direction *= -1;\n                    if (start < end)\n                        direction *= -1;\n                    svgContents.push(...renderExons(exons, direction, layoutItem, 'exon'));\n                    svgContents.push(...renderExons(UTR3s, direction, layoutItem, 'UTR3'));\n                    svgContents.push(...renderExons(UTR5s, direction, layoutItem, 'UTR5'));\n                    for (const [intronStart, intronEnd] of introns) {\n                        const [x1, y1] = layoutItem.getSvgPos(intronStart, 'top');\n                        const [x2] = layoutItem.getSvgPos(intronEnd, 'top');\n                        svgContents.push((0, render_1.renderItem)(svgTemplates_1.SVG_GENE_INTRON, {\n                            x1,\n                            x2,\n                            y: y1 + layoutItem.svgHeight * 0.5,\n                        }));\n                    }\n                }\n            });\n        });\n        if (!options.svg_template)\n            options.svg_template = [];\n        options.svg_template.push({ content: svgContents });\n        return options;\n    });\n}\nexports.default = geneSvg;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst linkview_align_parser_1 = __importStar(require(\"@linkview/linkview-align-parser\"));\nconst error_1 = require(\"../../utils/error\");\nfunction assignAlignmentsByCtgs(target, source) {\n    for (let ctg1 in source) {\n        if (!(ctg1 in target)) {\n            target[ctg1] = source[ctg1];\n        }\n        else {\n            for (let ctg2 in source[ctg1]) {\n                if (!(ctg2 in target[ctg1])) {\n                    target[ctg1][ctg2] = source[ctg1][ctg2];\n                }\n                else {\n                    target[ctg1][ctg2].push(...source[ctg1][ctg2]);\n                }\n            }\n        }\n    }\n}\nfunction alignCreater() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const options = this;\n        const { inputs, inputContent, min_alignment_length: minAlignmentLength, min_identity: minIdentity, min_bit_score: minBitScore, max_evalue: maxEvalue, layout } = options;\n        const lenInfoAll = {};\n        const alignmentsAll = [];\n        const alignmentsByCtgsAll = {};\n        if (inputs) {\n            for (let input of inputs) {\n                const { alignments, lenInfo, alignmentsByCtgs } = yield (0, linkview_align_parser_1.default)(input, {\n                    minIdentity,\n                    minAlignmentLength,\n                    maxEvalue,\n                    minBitScore,\n                    filterCtgPairs: [],\n                });\n                Object.assign(lenInfoAll, lenInfo);\n                alignmentsAll.push(...alignments);\n                assignAlignmentsByCtgs(alignmentsByCtgsAll, alignmentsByCtgs);\n            }\n        }\n        else if (inputContent) {\n            const { alignments, lenInfo, alignmentsByCtgs } = (0, linkview_align_parser_1.alignParserFromContent)(inputContent, {\n                minIdentity,\n                minAlignmentLength,\n                maxEvalue,\n                minBitScore,\n                filterCtgPairs: [],\n            });\n            Object.assign(lenInfoAll, lenInfo);\n            alignmentsAll.push(...alignments);\n            assignAlignmentsByCtgs(alignmentsByCtgsAll, alignmentsByCtgs);\n        }\n        options.alignments = alignmentsAll;\n        options.lenInfo = lenInfoAll;\n        options.alignmentsByCtgs = alignmentsByCtgsAll;\n        for (let index = 0, levelCount = layout.length; index < levelCount; index++) {\n            const layoutLineBefore = layout[index - 1];\n            const layoutLineCur = layout[index];\n            const layoutLineNext = layout[index + 1];\n            layoutLineCur.forEach((layoutItemCur) => {\n                const ctgsWithNoInfo = new Set();\n                const layoutItemsWithNoInfo = new Set();\n                const intervalInfoByAlignments = {};\n                const setIntervalInfo = (ctg, start, end) => {\n                    const min = Math.min(start, end);\n                    const max = Math.max(start, end);\n                    if (!(ctg in intervalInfoByAlignments))\n                        intervalInfoByAlignments[ctg] = { start: min, end: max };\n                    else {\n                        intervalInfoByAlignments[ctg] = {\n                            start: Math.min(min, intervalInfoByAlignments[ctg].start),\n                            end: Math.max(max, intervalInfoByAlignments[ctg].end),\n                        };\n                    }\n                };\n                layoutLineBefore && layoutLineBefore.forEach((layoutItemBefore) => {\n                    const ctg1 = layoutItemCur.ctg;\n                    const ctg2 = layoutItemBefore.ctg;\n                    const { alignmentsByCtgs } = options;\n                    if (layoutItemCur.start === 0 || layoutItemCur.end === 0) {\n                        ctgsWithNoInfo.add(layoutItemCur.ctg);\n                        layoutItemsWithNoInfo.add(layoutItemCur);\n                    }\n                    const alignments = ctg1 in alignmentsByCtgs\n                        ? ctg2 in alignmentsByCtgs[ctg1]\n                            ? alignmentsByCtgs[ctg1][ctg2]\n                            : []\n                        : [];\n                    if (!alignments || alignments.length === 0)\n                        return;\n                    for (let index = 0, count = alignments.length; index < count; index++) {\n                        const alignment = alignments[index];\n                        const displayStart1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.start : layoutItemBefore.start;\n                        const displayEnd1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.end : layoutItemBefore.end;\n                        const displayStart2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.start : layoutItemBefore.start;\n                        const displayEnd2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.end : layoutItemBefore.end;\n                        const calculatedAlignment = (0, linkview_align_parser_1.calculateSubAlign)(alignment, displayStart1, displayEnd1, displayStart2, displayEnd2);\n                        if (!calculatedAlignment)\n                            continue;\n                        const { ctg1, start1, end1, ctg2, start2, end2 } = calculatedAlignment;\n                        const [startCur, endCur] = layoutItemCur.ctg === ctg1 ? [start1, end1] : [start2, end2];\n                        setIntervalInfo(layoutItemCur.ctg, startCur, endCur);\n                    }\n                });\n                layoutLineNext && layoutLineNext.forEach((layoutItemNext) => {\n                    const ctg1 = layoutItemCur.ctg;\n                    const ctg2 = layoutItemNext.ctg;\n                    const { alignmentsByCtgs } = options;\n                    if (layoutItemCur.start === 0 || layoutItemCur.end === 0) {\n                        ctgsWithNoInfo.add(layoutItemCur.ctg);\n                        layoutItemsWithNoInfo.add(layoutItemCur);\n                    }\n                    const alignments = ctg1 in alignmentsByCtgs\n                        ? ctg2 in alignmentsByCtgs[ctg1]\n                            ? alignmentsByCtgs[ctg1][ctg2]\n                            : []\n                        : [];\n                    if (!alignments || alignments.length === 0)\n                        return;\n                    for (let index = 0, count = alignments.length; index < count; index++) {\n                        const alignment = alignments[index];\n                        const displayStart1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.start : layoutItemNext.start;\n                        const displayEnd1 = layoutItemCur.ctg === alignment.ctg1 ? layoutItemCur.end : layoutItemNext.end;\n                        const displayStart2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.start : layoutItemNext.start;\n                        const displayEnd2 = layoutItemCur.ctg === alignment.ctg2 ? layoutItemCur.end : layoutItemNext.end;\n                        const calculatedAlignment = (0, linkview_align_parser_1.calculateSubAlign)(alignment, displayStart1, displayEnd1, displayStart2, displayEnd2);\n                        if (!calculatedAlignment)\n                            continue;\n                        const { ctg1, start1, end1, ctg2, start2, end2 } = calculatedAlignment;\n                        const [startCur, endCur] = layoutItemCur.ctg === ctg1 ? [start1, end1] : [start2, end2];\n                        setIntervalInfo(layoutItemCur.ctg, startCur, endCur);\n                    }\n                });\n                for (let layoutItem of layoutItemsWithNoInfo) {\n                    const { ctg } = layoutItem;\n                    if (!intervalInfoByAlignments[ctg])\n                        continue;\n                    layoutItem.start = intervalInfoByAlignments[ctg].start;\n                    layoutItem.end = intervalInfoByAlignments[ctg].end;\n                    (0, error_1.warn)(`${ctg} lacks start and end information. It automatically calculates that start is ${layoutItem.start} and end is ${layoutItem.end}.`);\n                }\n            });\n        }\n        return options;\n    });\n}\nexports.default = alignCreater;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst MAX_NUMBER_OF_CTGS = 5;\nfunction autoLayoutCreater() {\n    const options = this;\n    let { karyotype, karyotypeContent, layout, alignmentsByCtgs } = options;\n    const intervalInfoByAlignments = {};\n    const setIntervalInfo = (ctg, start, end) => {\n        const min = Math.min(start, end);\n        const max = Math.max(start, end);\n        if (!(ctg in intervalInfoByAlignments))\n            intervalInfoByAlignments[ctg] = { start: min, end: max };\n        else {\n            intervalInfoByAlignments[ctg] = {\n                start: Math.min(min, intervalInfoByAlignments[ctg].start),\n                end: Math.max(max, intervalInfoByAlignments[ctg].end),\n            };\n        }\n    };\n    if (layout.length === 0 && !karyotype && !karyotypeContent) {\n        const ctgs = Object.keys(alignmentsByCtgs);\n        for (let ctg of ctgs) {\n            for (let ctgAnother in alignmentsByCtgs[ctg]) {\n                const ailgnments = alignmentsByCtgs[ctg][ctgAnother];\n                ailgnments.forEach(alignment => {\n                    const { ctg1, start1, end1, ctg2, start2, end2 } = alignment;\n                    setIntervalInfo(ctg1, start1, end1);\n                    setIntervalInfo(ctg2, start2, end2);\n                });\n            }\n        }\n        ctgs.sort((a, b) => {\n            const lenA = intervalInfoByAlignments[a].end - intervalInfoByAlignments[a].start;\n            const lenB = intervalInfoByAlignments[b].end - intervalInfoByAlignments[b].start;\n            return lenB - lenA;\n        });\n        const ctg2LayoutItem = (ctg) => {\n            return {\n                ctg,\n                start: intervalInfoByAlignments[ctg].start,\n                end: intervalInfoByAlignments[ctg].end,\n            };\n        };\n        if (ctgs.length === 0) {\n        }\n        else if (ctgs.length === 1) {\n            layout.push([ctg2LayoutItem(ctgs[0])]);\n        }\n        else if (ctgs.length === 2) {\n            layout.push([ctg2LayoutItem(ctgs[1])], [ctg2LayoutItem(ctgs[0])]);\n        }\n        else if (ctgs.length === 3) {\n            layout.push([ctg2LayoutItem(ctgs[1])], [ctg2LayoutItem(ctgs[2])], [ctg2LayoutItem(ctgs[0])]);\n        }\n        else if (ctgs.length === 4) {\n            layout.push([ctg2LayoutItem(ctgs[1]), ctg2LayoutItem(ctgs[2])], [ctg2LayoutItem(ctgs[3]), ctg2LayoutItem(ctgs[0])]);\n        }\n        else {\n            layout.push([ctg2LayoutItem(ctgs[2]), ctg2LayoutItem(ctgs[3])], [ctg2LayoutItem(ctgs[0])], [ctg2LayoutItem(ctgs[4]), ctg2LayoutItem(ctgs[1])]);\n        }\n    }\n    return options;\n}\nexports.default = autoLayoutCreater;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst plugins_1 = require(\"../plugins\");\nfunction main(options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        options.use(plugins_1.paramsCreater);\n        options.use(plugins_1.layoutCreater);\n        yield options.use(plugins_1.alignCreater);\n        options.use(plugins_1.autoLayoutCreater);\n        yield options.use(plugins_1.svgCreater);\n        return options.svg;\n    });\n}\nexports.default = main;\n","import { Options } from '@linkview/linkview-core';\n\nconst initOptions = {\n  inputContent: '',\n  min_alignment_length: 0,\n  max_evalue: 1e-5,\n  min_identity: 0,\n  min_bit_score: 1000,\n  chro_thickness: 15,\n  no_label: false,\n  label_angle: 30,\n  label_font_size: 30,\n  label_pos: 'right',\n  label_x_offset: 0,\n  label_y_offset: 0,\n  gap_length: 0.2,\n  svg_height: 800,\n  svg_width: 1200,\n  svg_space: 0.2,\n  svg_content_width: 1200 * (1 - 0.2),\n  show_scale: false,\n  scale: 0,\n  chro_axis_pos: 'bottom',\n  chro_axis_unit: 'auto',\n  align: 'center',\n  hl_min1px: false,\n  highlightContent: '',\n  karyotypeContent: '',\n  parameterContent: '',\n  gffContent: '',\n\n  use: function (this: Options, plugin: (...args: any) => void) {\n    return plugin.apply(this);\n  },\n  style: 'classic',\n} as Options;\n\nexport default initOptions;","import { Form, Input, Button, Space, Select, Collapse, Switch, InputNumber, Col } from 'antd';\nimport { PlusOutlined, CloseCircleOutlined, FullscreenOutlined, FullscreenExitOutlined } from '@ant-design/icons';\nimport './ParamsInput.css';\nimport initOptions from '../initOptions';\nimport { Options } from '@linkview/linkview-core';\nimport { useState, useEffect, useRef } from 'react';\nimport queryString from 'query-string';\n\nconst { Option } = Select;\nconst { TextArea } = Input;\nconst { Panel } = Collapse;\n\ntype PropsType = {\n  onSubmit: (options: Options) => void;\n}\n\nconst ParamsInput = ({ onSubmit }: PropsType) => {\n\n  const urlOptions = queryString.parse(\n    window.location.href.slice(window.location.href.indexOf('?') + 1),\n    { parseBooleans: true, parseNumbers: true }\n  );\n\n  const [form] = Form.useForm();\n  const [showKaryotype, setShowKaryotype] = useState<boolean>(false);\n  const [showHighlight, setShowHighlight] = useState<boolean>(false);\n  const [showParameter, setShowParameter] = useState<boolean>(false);\n  const [showGff, setShowGff] = useState<boolean>(false);\n  console.log('showKaryotype', showKaryotype)\n\n  const addKaryotypeRef = useRef(null);\n  const addHighlightRef = useRef(null);\n  const addParameterRef = useRef(null);\n  const addGffRef = useRef(null);\n  Object.assign(initOptions, urlOptions)\n  console.log('urlOptions', urlOptions)\n  useEffect(() => {\n    // @ts-ignore\n    if (urlOptions.karyotypeContent) addKaryotypeRef.current.click();\n    // @ts-ignore\n    if (urlOptions.highlightContent) addHighlightRef.current.click();\n    // @ts-ignore\n    if (urlOptions.parameterContent) addParameterRef.current.click();\n    // @ts-ignore\n    if (urlOptions.gffContent) addGffRef.current.click();\n    if ('autoSubmit' in urlOptions) form.submit();\n  }, []);\n\n  const onFinish = (values: any) => {\n    const svg_width = values.svg_width ? values.svg_width : initOptions.svg_width;\n    const svg_space = values.svg_space ? values.svg_space : initOptions.svg_space;\n    onSubmit({\n      ...values,\n      karyotypeContent: values.karyotypeContent\n        ? values.karyotypeContent.karyotypeContent\n        : '',\n      highlightContent: values.highlightContent\n        ? values.highlightContent.highlightContent\n        : '',\n      gffContent: values.gffContent\n        ? values.gffContent.gffContent\n        : '',\n      parameterContent: values.parameterContent\n        ? values.parameterContent.parameterContent\n        : '',\n      svg_content_width: svg_width * (1 - svg_space)\n    } as Options);\n  };\n\n  return (\n    <Form\n      form={form}\n      name='dynamic_form_nest_item'\n      onFinish={onFinish}\n      autoComplete='off'\n      size='large'\n    >\n      {/* alignments */}\n      <label>alignments</label>\n      <Form.Item\n        name='inputContent'\n        label=''\n        initialValue={initOptions.inputContent}\n      >\n        <TextArea rows={10} wrap='off' className='file-input' allowClear onBlur={() => form.submit()}/>\n      </Form.Item>\n      {/* 折叠面板 */}\n      <Collapse ghost style={{ marginBottom: 20 }}>\n        <Panel header='Normal options:' key='1'>\n          <Form.Item\n            name='hl_min1px'\n            label='hl_min1px'\n            valuePropName='checked'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.hl_min1px}\n          >\n            <Switch\n              defaultChecked={false}\n              onChange={() => {\n                form.submit();\n              }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='show_scale'\n            label='show_scale'\n            valuePropName='checked'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.show_scale}\n          >\n            <Switch\n              defaultChecked={false}\n              onChange={() => {\n                form.submit();\n              }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='scale'\n            label='scale'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.scale || ''}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='bp/px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n        </Panel>\n        <Panel header='Filter options' key='2'>\n          <Form.Item\n            name='min_alignment_length'\n            label='min_alignment_length'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.min_alignment_length}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='bp'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='min_identity'\n            label='min_identity'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.min_identity}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='%'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='min_bit_score'\n            label='min_bit_score'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.min_bit_score}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='max_evalue'\n            label='max_evalue'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.max_evalue}\n          >\n            <InputNumber\n              min={0}\n              max={1}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n        </Panel>\n        <Panel header='Drawing options' key='3'>\n          <Form.Item\n            name='chro_thickness'\n            label='chro_thickness'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.chro_thickness}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='no_label'\n            label='no_label'\n            valuePropName='checked'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.no_label}\n          >\n            <Switch\n              defaultChecked={false}\n              onChange={() => {\n                form.submit();\n              }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='label_font_size'\n            label='label_font_size'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.label_font_size}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='label_angle'\n            label='label_angle'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.label_angle}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='label_pos'\n            label='label_pos'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.label_pos}\n          >\n            <Select\n              onChange={() => {\n                form.submit();\n              }}\n            >\n              <Option value='left'>left</Option>\n              <Option value='center'>center</Option>\n              <Option value='right'>right</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item\n            name='label_x_offset'\n            label='label_x_offset'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.label_x_offset}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='label_y_offset'\n            label='label_y_offset'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.label_y_offset}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter='px'\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='chro_axis'\n            label='chro_axis'\n            valuePropName='checked'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.chro_axis}\n          >\n            <Switch\n              defaultChecked={false}\n              onChange={() => {\n                form.submit();\n              }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='chro_axis_unit'\n            label='chro_axis_unit'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.chro_axis_unit}\n          >\n            <Input\n              onBlur={(ele) => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='chro_axis_pos'\n            label='chro_axis_pos'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.chro_axis_pos}\n          >\n            <Select\n              onChange={() => {\n                form.submit();\n              }}\n            >\n              <Option value='top'>top</Option>\n              <Option value='bottom'>bottom</Option>\n              <Option value='both'>both</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item\n            name='gap_length'\n            label='gap_length'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.gap_length}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='align'\n            label='align'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.align}\n          >\n            <Select\n              onChange={() => {\n                form.submit();\n              }}\n            >\n              <Option value='left'>left</Option>\n              <Option value='center'>center</Option>\n              <Option value='right'>right</Option>\n            </Select>\n          </Form.Item>\n        </Panel>\n        <Panel header='Style options' key='4'>\n          <Form.Item\n            name='bezier'\n            label='bezier'\n            valuePropName='checked'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.bezier}\n          >\n            <Switch\n              defaultChecked={false}\n              onChange={() => {\n                form.submit();\n              }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='style'\n            label='style'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.style}\n          >\n            <Select\n              onChange={() => {\n                form.submit();\n              }}\n            >\n              <Option value='classic'>classic</Option>\n              <Option value='simple'>simple</Option>\n            </Select>\n          </Form.Item>\n        </Panel>\n        <Panel header='Svg options' key='5'>\n          <Form.Item\n            name='svg_height'\n            label='svg_height'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.svg_height}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='svg_width'\n            label='svg_width'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.svg_width}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n          <Form.Item\n            name='svg_space'\n            label='svg_space'\n            labelCol={{ span: 9 }}\n            wrapperCol={{ span: 6, offset: 6 }}\n            initialValue={initOptions.svg_space}\n          >\n            <InputNumber\n              min={0}\n              controls={false}\n              addonAfter=''\n              onBlur={() => {\n                form.submit();\n              }}\n              style={{ width: '100%' }}\n            />\n          </Form.Item>\n        </Panel>\n      </Collapse>\n      {/* 添加 karyotypeContent */}\n      <Form.List name='karyotypeContent'>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field) => (\n              // <Space key={field.key} align='baseline'>\n              <div key='karyotypeContent'>\n                <CloseCircleOutlined\n                  onClick={() => {\n                    setShowKaryotype(false);\n                    remove(field.name);\n                    form.submit();\n                  }}\n                  className='clear-btn'\n                />\n                <label style={{ marginLeft: 10 }}>karyotype</label>\n                <Form.Item\n                  name='karyotypeContent'\n                  label=''\n                  initialValue={initOptions.karyotypeContent}\n                >\n                  <TextArea\n                    rows={10}\n                    wrap='off'\n                    className='file-input'\n                    size='large'\n                    allowClear\n                    onBlur={() => form.submit()}\n                  />\n                </Form.Item>\n              </div>\n            ))}\n\n            {showKaryotype ? null : (\n              <Form.Item>\n                <Button\n                  ref={addKaryotypeRef}\n                  type='dashed'\n                  onClick={() => {\n                    setShowKaryotype(true);\n                    add();\n                  }}\n                  block\n                  icon={<PlusOutlined />}\n                >\n                  Add karyotype\n                </Button>\n              </Form.Item>\n            )}\n          </>\n        )}\n      </Form.List>\n      {/* 添加 highlightContent */}\n      <Form.List name='highlightContent'>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field) => (\n              // <Space key={field.key} align='baseline'>\n              <div key='highlightContent'>\n                <CloseCircleOutlined\n                  onClick={() => {\n                    setShowHighlight(false);\n                    remove(field.name);\n                    form.submit();\n                  }}\n                  className='clear-btn'\n                />\n                <label style={{ marginLeft: 10 }}>Highlights</label>\n                <Form.Item\n                  name='highlightContent'\n                  label=''\n                  initialValue={initOptions.highlightContent}\n                >\n                  <TextArea\n                    rows={10}\n                    wrap='off'\n                    className='file-input'\n                    size='large'\n                    allowClear\n                    onBlur={() => form.submit()}\n                  />\n                </Form.Item>\n              </div>\n            ))}\n\n            {showHighlight ? null : (\n              <Form.Item>\n                <Button\n                  ref={addHighlightRef}\n                  type='dashed'\n                  onClick={() => {\n                    setShowHighlight(true);\n                    add();\n                  }}\n                  block\n                  icon={<PlusOutlined />}\n                >\n                  Add highlights\n                </Button>\n              </Form.Item>\n            )}\n          </>\n        )}\n      </Form.List>\n      {/* 添加 parameterContent */}\n      <Form.List name='parameterContent'>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field) => (\n              // <Space key={field.key} align='baseline'>\n              <div key='parameterContent'>\n                <CloseCircleOutlined\n                  onClick={() => {\n                    setShowParameter(false);\n                    remove(field.name);\n                    form.submit();\n                  }}\n                  className='clear-btn'\n                />\n                <label style={{ marginLeft: 10 }}>parameter</label>\n                <Form.Item\n                  name='parameterContent'\n                  label=''\n                  initialValue={initOptions.parameterContent}\n                >\n                  <TextArea\n                    rows={10}\n                    wrap='off'\n                    className='file-input'\n                    size='large'\n                    allowClear\n                    onBlur={() => form.submit()}\n                  />\n                </Form.Item>\n              </div>\n            ))}\n\n            {showParameter ? null : (\n              <Form.Item>\n                <Button\n                  ref={addParameterRef}\n                  type='dashed'\n                  onClick={() => {\n                    setShowParameter(true);\n                    add();\n                  }}\n                  block\n                  icon={<PlusOutlined />}\n                >\n                  Add parameters\n                </Button>\n              </Form.Item>\n            )}\n          </>\n        )}\n      </Form.List>\n      {/* 添加 highlightContent */}\n      <Form.List name='gffContent'>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field) => (\n              <div key='gffContent'>\n                <CloseCircleOutlined\n                  onClick={() => {\n                    setShowGff(false);\n                    remove(field.name);\n                    form.submit();\n                  }}\n                  className='clear-btn'\n                />\n                <label style={{ marginLeft: 10 }}>gff</label>\n                <Form.Item\n                  name='gffContent'\n                  label=''\n                  initialValue={initOptions.gffContent}\n                >\n                  <TextArea\n                    rows={10}\n                    wrap='off'\n                    className='file-input'\n                    size='large'\n                    allowClear\n                    onBlur={() => form.submit()}\n                  />\n                </Form.Item>\n              </div>\n            ))}\n\n            {showGff ? null : (\n              <Form.Item>\n                <Button\n                  ref={addGffRef}\n                  type='dashed'\n                  onClick={() => {\n                    setShowGff(true);\n                    add();\n                  }}\n                  block\n                  icon={<PlusOutlined />}\n                >\n                  Add gff\n                </Button>\n              </Form.Item>\n            )}\n          </>\n        )}\n      </Form.List>\n\n      {/* 提交按钮 */}\n      <Form.Item>\n        <Button type='primary' htmlType='submit' style={{ width: '100%' }}>\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default ParamsInput;\n","import React from 'react';\nimport './App.css';\nimport { PageHeader, Row, Col, Alert } from 'antd';\nimport ParamsInput from './components/ParamsInput';\nimport { GithubOutlined, DownloadOutlined } from '@ant-design/icons';\nimport initOptions from './initOptions';\nimport { main, Options } from '@linkview/linkview-core';\nimport { useState } from 'react';\n\nfunction App() {\n  const [svg, setSvg] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const onSubmit = async (userOptions: Options) => {\n    const options = {...initOptions};\n    Object.assign(options, userOptions);\n    console.log('options', options);\n    try {\n      const svg = await main(options) || '';\n      console.log('optionsAfter', JSON.stringify(options));\n      console.log(svg);\n      setSvg(svg);\n      setErrMsg('');\n    } catch(error) {\n      console.log((error as Error).message);\n      setSvg('');\n      setErrMsg((error as Error).message);\n    }\n  }\n  // const save = () => {\n  //   const a = document.createElement\n  // }\n  return (\n    <div className='App'>\n      <PageHeader\n        className='head'\n        title='LINKVIEW2'\n        subTitle='A simple visualization tool for DNA sequence alignments.'\n        extra={[\n          <a\n            href='https://github.com/YangJianshun/LINKVIEW2'\n            className='github-icon'\n            key='github'\n          >\n            <GithubOutlined />\n          </a>,\n        ]}\n      >\n        <p className='supplement'>\n          This pure front-end page is the graphical interface of LINKVIEW2 and\n          has almost all the functions of the LINKVIEW2 command line tool.\n        </p>\n      </PageHeader>\n\n      <Row className={'main-container'}>\n        <Col span={10} offset={1}>\n          <ParamsInput onSubmit={onSubmit} />\n        </Col>\n        <Col span={10} offset={1}>\n          <div className='display-container' key='svg'>\n            {errMsg ? (\n              <Alert\n                message='LINKVIEW2 Error'\n                description={\n                  <code style={{ whiteSpace: 'pre-wrap' }}>{errMsg}</code>\n                }\n                type='error'\n                closable\n                className='error'\n              />\n            ) : (\n              <a\n                href={`data:text/plain;charset=utf-8,${svg.replaceAll(\n                  '#',\n                  '%23'\n                )}`}\n                download='linkview.svg'\n                className='download'\n              >\n                <DownloadOutlined />\n              </a>\n            )}\n\n            <div\n              className='svg-container'\n              dangerouslySetInnerHTML={{ __html: svg }}\n            ></div>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.styles = exports.SVG_CLIPPATH_END = exports.SVG_CLIPPATH_START = exports.SVG_GENE_INTRON = exports.SVG_GENE_EXON = exports.SVG_SCALE_TEXT = exports.SVG_SCALE_LINE = exports.SVG_HIGHLIGHT = exports.SVG_AXIS_TEXT = exports.SVG_AXIS_POINT = exports.SVG_ALIGN_BEZIER = exports.SVG_ALIGN = exports.SVG_LABEL = exports.SVG_CTG_DASH = exports.SVG_CTG = exports.SVG_END = exports.SVG_START = void 0;\nexports.SVG_START = '<svg width=\"{svg_width}\" height=\"{svg_height}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">';\nexports.SVG_END = '</svg>';\nexports.SVG_CTG = '<rect x=\"{x}\" y=\"{y}\" width=\"{width}\" height=\"{height}\" fill=\"grey\" class=\"chro\"/>';\nexports.SVG_CTG_DASH = '<line x1=\"{x1}\" y1=\"{y}\" x2=\"{x2}\" y2=\"{y}\" class=\"line\"/>';\nexports.SVG_LABEL = '<text x=\"{x}\" y=\"{y}\" fill=\"black\" font-size=\"{label_font_size}\" transform=\"rotate({label_angle},{x} {y})\" class=\"label\">{ctg}</text>';\nexports.SVG_ALIGN = '<path d=\"M{x1},{y1} L{x2},{y2} L{x3},{y3} L{x4},{y4} Z\" {selfStyle} class=\"align\"/>';\nexports.SVG_ALIGN_BEZIER = '<path d=\"M{x1},{y1} C{bezierX1},{bezierY1} {bezierX2},{bezierY2} {x2},{y2} L{x3},{y3} C{bezierX3},{bezierY3} {bezierX4},{bezierY4} {x4},{y4} Z\" {selfStyle} class=\"align\"/>';\nexports.SVG_AXIS_POINT = '<path d=\"M {x} {y1} L {x} {y2} \" stroke=\"black\" fill=\"none\"/>';\nexports.SVG_AXIS_TEXT = '<text x=\"{textX}\" y=\"{textY}\" fill=\"black\" transform=\"rotate({textAngle},{textX} {textY})\" font-size=\"9\">{text}</text>';\nexports.SVG_HIGHLIGHT = '<rect x=\"{x}\" y=\"{y}\" width=\"{width}\" height=\"{height}\" fill=\"{color}\" />';\nexports.SVG_SCALE_LINE = '<polyline points=\"{x1},{y1} {x2},{y2} {x3},{y3} {x4},{y4}\" fill=\"none\" stroke=\"black\" class=\"scale\"/>';\nexports.SVG_SCALE_TEXT = '<text x=\"{x}\" y=\"{y}\" fill=\"black\"  font-size=\"{fontSize}\" class=\"scale-text\">{text}</text>';\nexports.SVG_GENE_EXON = '<path d=\"M{x1},{y1} L{x2},{y2} L{x3},{y3} L{x4},{y4} L{x5},{y5} Z\" clip-path=\"url(#clipPathCtg)\" class=\"{className}\"/>';\nexports.SVG_GENE_INTRON = '<line x1=\"{x1}\" y1=\"{y}\" x2=\"{x2}\" y2=\"{y}\" clip-path=\"url(#clipPathCtg)\" class=\"intron\"/>';\nexports.SVG_CLIPPATH_START = '<defs><clipPath id=\"clipPathCtg\">';\nexports.SVG_CLIPPATH_END = '</clipPath></defs>';\nexports.styles = {\n    classic: `<defs><style>\n    .chro{\n        fill: rgb(131, 139, 131);      \n    }\n    .align {\n        fill: rgb(96, 123, 139);\n        opacity: 0.5;\n    }\n    .line {\n        stroke: rgb(0, 0, 0);\n        stroke-width: 3.5px;\n    }\n    .exon {\n        fill: rgb(54, 100, 139);\n    }\n    .UTR3 {\n        fill: rgb(47, 79, 79);\n    }\n    .UTR5 {\n        fill: rgb(47, 79, 79);\n    }\n    .intron {\n        stroke: rgb(54, 100, 139);\n        stroke-width: 1.5px;\n    }        \n  </style></defs>`.replace(/\\s+/g, ''),\n    simple: `<defs><style>\n    .chro{\n        stroke: rgb(0, 0, 0);\n        fill: none;\n    }\n    .align {\n        fill: rgb(183, 183, 183);\n        opacity: 0.5;\n    }\n    .line {\n        stroke: rgb(0, 0, 0);\n        stroke-width: 3.5px;\n    }\n    .exon {\n        fill: rgb(81, 81, 81);\n    }\n    .UTR3 {\n        fill: rgb(47, 79, 79);\n    }\n    .UTR5 {\n        fill: rgb(47, 79, 79);\n    }\n    .intron {\n        stroke: rgb(81, 81, 81);\n        stroke-width: 1.5px;\n    }        \n  </style></defs>`.replace(/\\s+/g, ''),\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderItem = void 0;\nfunction renderItem(svgTemplateItem, dataSource) {\n    var _a;\n    let result = svgTemplateItem;\n    const tempArr = svgTemplateItem.split('{');\n    for (let item of tempArr) {\n        const endIndex = item.indexOf('}');\n        if (endIndex < 0)\n            continue;\n        const key = item.slice(0, endIndex);\n        result = result.replace(`{${key}}`, (_a = dataSource[key]) !== null && _a !== void 0 ? _a : '');\n    }\n    return result;\n}\nexports.renderItem = renderItem;\nfunction render(svgTemplate, dataSource) {\n    const svgContents = [];\n    for (let svgTemplateItem of svgTemplate) {\n        if (typeof svgTemplateItem === 'string') {\n            svgContents.push(renderItem(svgTemplateItem, dataSource));\n        }\n        else {\n            const { content } = svgTemplateItem;\n            if (typeof content === 'string') {\n                svgContents.push(content);\n            }\n            else {\n                svgContents.push(...content);\n            }\n        }\n    }\n    return svgContents.join('\\n');\n}\nexports.default = render;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.warn = exports.errorPos = exports.withErrorConsole = void 0;\nconst chalk_1 = __importDefault(require(\"chalk\"));\nfunction withErrorConsole(fn) {\n    return function (...args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield fn(...args);\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    error = error.message.replace(/^Error: /, '');\n                }\n                console.log(`error: ${error}`);\n            }\n        });\n    };\n}\nexports.withErrorConsole = withErrorConsole;\nfunction errorPos(str, errorStr, subStr) {\n    let baseIndex = 0;\n    let searchStr = str;\n    if (subStr) {\n        baseIndex = str.indexOf(subStr);\n        searchStr = subStr;\n    }\n    const position = searchStr.indexOf(errorStr) + baseIndex;\n    const errorStrLen = errorStr.length;\n    const mark = `${chalk_1.default.bgYellow('|')} `;\n    str = str.slice(0, position) + chalk_1.default.bgYellow.red(errorStr) + str.slice(position + errorStrLen);\n    return `${mark}${str}\\n${mark}${' '.repeat(position)}${chalk_1.default.yellow('^')}`;\n}\nexports.errorPos = errorPos;\nfunction warn(info) {\n    console.log(`warn: ${info}`);\n}\nexports.warn = warn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AlignType = void 0;\nvar AlignType;\n(function (AlignType) {\n    AlignType[\"UNKNOWN\"] = \"0\";\n    AlignType[\"STANDARD\"] = \"1\";\n    AlignType[\"BLAST\"] = \"2\";\n    AlignType[\"MINIMAP\"] = \"3\";\n    AlignType[\"NUCMER\"] = \"4\";\n    AlignType[\"NUCMER_T\"] = \"5\";\n    AlignType[\"NUCMER_B\"] = \"6\";\n})(AlignType = exports.AlignType || (exports.AlignType = {}));\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.alignParserFromContent = void 0;\nconst main_1 = __importDefault(require(\"./main\"));\n__exportStar(require(\"./@types\"), exports);\n__exportStar(require(\"./calculateSubAlign\"), exports);\n__exportStar(require(\"./parser\"), exports);\n__exportStar(require(\"./utils\"), exports);\nvar main_2 = require(\"./main\");\nObject.defineProperty(exports, \"alignParserFromContent\", { enumerable: true, get: function () { return main_2.alignParserFromContent; } });\nexports.default = main_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.warn = exports.errorPos = exports.withErrorConsole = void 0;\nconst chalk_1 = __importDefault(require(\"chalk\"));\nfunction withErrorConsole(fn) {\n    return function (...args) {\n        try {\n            return fn(...args);\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                error = error.message.replace(/^Error: /, '');\n            }\n            console.log(`error: ${error}`);\n            process.exit();\n        }\n    };\n}\nexports.withErrorConsole = withErrorConsole;\nfunction errorPos(str, items, index) {\n    index = Number(index);\n    const errorStr = items[index];\n    let baseIndex = 0;\n    let position = -1;\n    for (let i = 0, len = items.length; i < len; i++) {\n        if (i !== index && items[i] === errorStr) {\n            baseIndex = str.indexOf(errorStr, baseIndex) + 1;\n        }\n        if (i === index) {\n            position = str.indexOf(errorStr, baseIndex);\n            break;\n        }\n    }\n    const errorStrLen = errorStr.length;\n    const mark = `${chalk_1.default.bgYellow('|')} `;\n    str = str.slice(0, position) + chalk_1.default.bgYellow.red(errorStr) + str.slice(position + errorStrLen);\n    return `${mark}${str}\\n${mark}${' '.repeat(position)}${chalk_1.default.yellow('^')}`;\n}\nexports.errorPos = errorPos;\nfunction warn(info) {\n    console.log(`warn: ${info}`);\n}\nexports.warn = warn;\n"],"sourceRoot":""}